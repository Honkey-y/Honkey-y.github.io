<!--
 * @Author: error: git config user.name && git config user.email & please set dead value or install git
 * @Date: 2022-10-16 17:15:32
 * @LastEditors: error: git config user.name && git config user.email & please set dead value or install git
 * @LastEditTime: 2022-10-16 22:40:59
 * @FilePath: \blog-vue\themes\themesparticlex\layout\layout.ejs
 * @Description: è¿™æ˜¯é»˜è®¤è®¾ç½®,è¯·è®¾ç½®`customMade`, æ‰“å¼€koroFileHeaderæŸ¥çœ‹é…ç½® è¿›è¡Œè®¾ç½®: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->

<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
        <title>SpringBootç¬”è®° | Yangçš„ä¸ªäººåšå®¢</title>
        <meta name="author" content="CarSon Yang">
        <meta name="description" content="">
        <meta name="keywords" content="HEXO | CMS | CRM">
        <link rel="icon" href="/images/touxiang.png">
        <script src="https://cdn.staticfile.org/instant.page/5.1.0/instantpage.min.js" type="module"></script>
        <script src="https://cdn.staticfile.org/font-awesome/6.2.0/js/all.min.js"></script>
        
        <link rel="stylesheet" href="/css/fonts.min.css">
        <link rel="stylesheet" href="/css/particlex.css">
        
        <script src="https://cdn.staticfile.org/vue/3.2.33/vue.global.prod.min.js"></script>
        <script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
    <meta name="generator" content="Hexo 5.4.2"></head>
    <body>
        <div id="loading" style="height:100vh;width:100vw;position:fixed;display:flex;z-index:200;justify-content:space-between;background:#fff;transition:opacity 0.3s ease-out"><div style="position:fixed;height:100vh;width:100vw;display:flex;justify-content:center;align-items:center"><div id="loadcontent" style="width:50vmin;height:50vmin;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px #a3ddfb;text-align:center"><div><h2>LOADING...</h2><p style="word-break:keep-all">åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜(æµè§ˆå™¨é»˜è®¤å¼€å¯)</p><div><img alt="loading" src="/loading.gif"></div></div></div></div></div>
        <div id="layout">
            <i data-fa-symbol="calendar-solid" class="fa-solid fa-calendar fa-fw"></i>
            <i data-fa-symbol="bookmark-solid" class="fa-solid fa-bookmark fa-fw"></i>
            <i data-fa-symbol="tags-solid" class="fa-solid fa-tags fa-fw"></i>
            <transition name="into">
                <div v-show="show_page" style="display: -not-none">
                    <div id="menu_show">
                         
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Yangçš„ä¸ªäººåšå®¢</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;ä¸»é¡µ</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;å…³äºæˆ‘</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;è´­ä¹°</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;æ”¯æŒ</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;å‹é“¾</span>
        </a>
        
    </div>
    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div class="curtain" @click="menu_show = !menu_show" v-show="menu_show"></div>
        <div :class="'title'" @click="menu_show = !menu_show">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;Yangçš„ä¸ªäººåšå®¢</span>
        </div>
        <transition name="slide">
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-house fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">ä¸»é¡µ</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-id-card fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">å…³äºæˆ‘</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-box-archive fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">è´­ä¹°</div>
                </div>
            </a>
            
            <a href="/categories">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">æ”¯æŒ</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-tags fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">å‹é“¾</div>
                </div>
            </a>
            
        </div>
        </transition>
    </div>
</nav>
                    </div>
                    <div id="main">
                        
<div class="article">
    <div>
        <h1>SpringBootç¬”è®° </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/10/26
        </span>
        
        
    </div>
    <div class="content" v-pre>
        <p>ä¹‹å‰å­¦ä¹ SpringBootçš„ç¬”è®°ï¼Œæ•´ç†åˆ°è‡ªå·±çš„åšå®¢ä¸­ï¼</p>
<span id="more"></span>
<!-- toc -->

<ul class="md-toc">
    <h2><span id="ç›®å½•">ğŸ“–ç›®å½•ï¼š</span></h2>
<li><a href="#ssm%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">SSMç¯å¢ƒæ­å»º</a></li>
<li><a href="#%E7%8E%B0%E6%9C%89ssm%E5%BC%80%E5%8F%91%E5%AD%98%E5%9C%A8%E9%97%AE%E9%A2%98">ç°æœ‰SSMå¼€å‘å­˜åœ¨é—®é¢˜</a></li>
<li><a href="#springboot%E7%9A%84%E5%BC%95%E8%A8%80">SpringBootçš„å¼•è¨€</a></li>
<li><a href="#springboot%E7%9A%84%E4%BC%98%E5%8A%BF">SpringBootçš„ä¼˜åŠ¿</a></li>
<li><a href="#springboot%E7%9A%84%E7%BA%A6%E5%AE%9A">SpringBootçš„çº¦å®š</a></li>
<li><a href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">ç¯å¢ƒæ­å»º</a></li>
<li><a href="#%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%E8%AF%B4%E6%98%8E">ç›¸å…³æ³¨è§£è¯´æ˜</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">é…ç½®æ–‡ä»¶</a></li>
<li><a href="#%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1">å·¥å‚åˆ›å»ºå¯¹è±¡</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5">å±æ€§æ³¨å…¥</a></li>
<li><a href="#jsp%E6%A8%A1%E6%9D%BF%E9%9B%86%E6%88%90">JSPæ¨¡æ¿é›†æˆ</a></li>
<li><a href="#%E6%95%B4%E5%90%88mybatis%E6%A1%86%E6%9E%B6">æ•´åˆMybatisæ¡†æ¶</a></li>
<li><a href="#%E6%9C%AC%E5%9C%B0%E6%B5%8B%E8%AF%95">æœ¬åœ°æµ‹è¯•</a></li>
<li><a href="#%E7%83%AD%E9%83%A8%E7%BD%B2%E5%B7%A5%E5%85%B7">çƒ­éƒ¨ç½²å·¥å…·</a></li>
<li><a href="#%E6%97%A5%E5%BF%97%E5%A4%84%E7%90%86">æ—¥å¿—å¤„ç†</a></li>
<li><a href="#%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B">åˆ‡é¢ç¼–ç¨‹</a></li>
<li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD">æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</a></li>
<li><a href="#%E6%8B%A6%E6%88%AA%E5%99%A8">æ‹¦æˆªå™¨</a></li>
<li><a href="#war%E5%8C%85%E9%83%A8%E7%BD%B2">waråŒ…éƒ¨ç½²</a></li>
<li><a href="#jar%E5%8C%85%E9%83%A8%E7%BD%B2">JaråŒ…éƒ¨ç½²</a></li>
<li><a href="#thymeleaf">Thymeleaf</a></li>
<li><a href="#restful">RestFul</a></li>
<li><a href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86">å¼‚å¸¸å¤„ç†</a></li>
<li><a href="#cors-%E8%B7%A8%E5%9F%9F">CORS è·¨åŸŸ</a></li>
<li><a href="#jasypt-%E5%8A%A0%E5%AF%86">Jasypt åŠ å¯†</a></li>
</ul>
<!-- tocstop -->

<h2><span id="ssmç¯å¢ƒæ­å»º">SSMç¯å¢ƒæ­å»º</span></h2><ul>
<li>spring </li>
<li>springmvc</li>
<li>mybatis</li>
<li>spring springmvc mybatis  ç®€å•åŠŸèƒ½   å‘˜å·¥æ·»åŠ  æŸ¥è¯¢  æ‰€æœ‰</li>
</ul>
<pre><code class="markdown"># é¡¹ç›®
-  éœ€æ±‚åˆ†æ  æ¦‚è¦è®¾è®¡(åº“è¡¨è®¾è®¡)   è¯¦ç»†è®¾è®¡(éªŒè¯åº“è¡¨æ­£ç¡®æ€§)  ç¼–ç (ç¯å¢ƒæ­å»º+ä¸šåŠ¡ä»£ç )  æµ‹è¯•  éƒ¨ç½²ä¸Šçº¿

# å‘˜å·¥æ·»åŠ  æŸ¥è¯¢æ‰€æœ‰åŠŸèƒ½  SSM
- åº“è¡¨   åº“: ssm   æ•°æ®åº“:mysql  è¡¨: id name birthday salary

# ç¼–ç  ç¯å¢ƒæ­å»º ssm  spring  springmvc   ä¸€ä¸ªå›¢é˜Ÿå¼€å‘ æ— ç¼æ•´åˆ
- springmvc  spring  mybatis
</code></pre>
<p> <strong>å¼•å…¥ä¾èµ–</strong></p>
<pre><code class="xml">&lt;dependencies&gt;
        &lt;!--junit--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;
            &lt;version&gt;4.11&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;!--spring--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
            &lt;version&gt;5.3.6&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;
            &lt;version&gt;5.3.6&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;
            &lt;version&gt;5.3.6&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
            &lt;version&gt;5.3.6&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;
            &lt;version&gt;5.3.6&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
            &lt;version&gt;5.3.6&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
            &lt;version&gt;5.3.6&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!--spring web mvc--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
            &lt;version&gt;5.3.6&lt;/version&gt;
        &lt;/dependency&gt;


        &lt;!--druid--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;druid&lt;/artifactId&gt;
            &lt;version&gt;1.2.4&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!--mysql--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;5.1.38&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!--mybatis--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
            &lt;version&gt;3.5.6&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;
            &lt;version&gt;2.0.6&lt;/version&gt;
        &lt;/dependency&gt;


        &lt;!--  jackson--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
            &lt;version&gt;2.9.3&lt;/version&gt;
        &lt;/dependency&gt;


        &lt;!-- aspectj --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
            &lt;version&gt;1.9.5&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!--aspectj--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;
            &lt;version&gt;1.9.5&lt;/version&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;
</code></pre>
<p> <strong>åˆ›å»ºspringé…ç½®</strong></p>
<pre><code class="xml">&lt;!--å¼€å¯æ³¨è§£æ‰«æ--&gt;
&lt;context:component-scan base-package=&quot;com.baizhi.service&quot;&gt;
  &lt;context:exclude-filter type=&quot;aspectj&quot; expression=&quot;com.baizhi.controller..*&quot;/&gt;
&lt;/context:component-scan&gt;

&lt;!--  åˆ›å»ºDataSource--&gt;
&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;
  &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;
  &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/ssm?characterEncoding=UTF-8&quot;/&gt;
  &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;
  &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;
&lt;/bean&gt;

&lt;!--  åˆ›å»º SQLSessionFactoryBean --&gt;
&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
  &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;
  &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:com/baizhi/mapper/*.xml&quot;/&gt;
  &lt;property name=&quot;typeAliasesPackage&quot; value=&quot;com.baizhi.entity&quot;/&gt;
&lt;/bean&gt;

&lt;!--  åˆ›å»ºdao --&gt;
&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
  &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt;
  &lt;property name=&quot;basePackage&quot; value=&quot;com.baizhi.dao&quot;/&gt;
&lt;/bean&gt;

&lt;!--  åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨--&gt;
&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;
  &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;
&lt;/bean&gt;

&lt;!-- å¼€å¯æ³¨è§£äº‹åŠ¡ç”Ÿæ•ˆ--&gt;
&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;
</code></pre>
<p> <strong>åˆ›å»ºspringmvcé…ç½®</strong></p>
<pre><code class="xml">&lt;!--    æ³¨è§£æ‰«æ--&gt;
&lt;context:component-scan base-package=&quot;com.baizhi.controller&quot;/&gt;

&lt;!-- å¼€å¯æ³¨å†Œé©±åŠ¨--&gt;
&lt;mvc:annotation-driven/&gt;

&lt;!-- é…ç½®è§†å›¾è§£æå™¨--&gt;
&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
  &lt;property name=&quot;prefix&quot; value=&quot;/&quot;/&gt;
  &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;
&lt;/bean&gt;
</code></pre>
<p> <strong>é…ç½®web</strong>.xml</p>
<pre><code class="xml">&lt;!--é…ç½®å·¥å‚é…ç½®--&gt;
&lt;context-param&gt;
  &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
  &lt;param-value&gt;classpath:spring.xml&lt;/param-value&gt;
&lt;/context-param&gt;

&lt;listener&gt;
  &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
&lt;/listener&gt;

&lt;!--é…ç½®springmvc--&gt;
&lt;servlet&gt;
  &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;
  &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
    &lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;
  &lt;/init-param&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre>
<h2><span id="ç°æœ‰ssmå¼€å‘å­˜åœ¨é—®é¢˜">ç°æœ‰SSMå¼€å‘å­˜åœ¨é—®é¢˜</span></h2><ul>
<li>å¤§é‡mavenå†—ä½™é…ç½®</li>
<li>æ¯æ¬¡æ„å»ºé¡¹ç›®éƒ½è¦ä¹¦å†™å¤§é‡ç›¸åŒé…ç½®æå¤§æµªè´¹äº†é¡¹ç›®å¼€å‘æ—¶é—´</li>
<li>æ¯æ¬¡æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯éƒ½éœ€è¦ç¼–å†™ç›¸å…³é…ç½®æ–‡ä»¶</li>
<li>é¡¹ç›®æµ‹è¯•æ¯æ¬¡éƒ½éœ€è¦éƒ¨ç½²åˆ°tomcat</li>
</ul>
<blockquote>
<p><strong>æ³¨æ„:è¿™å°±æ˜¯æ—©æœŸçš„SSMæˆ–è€…SSHå¼€å‘å­˜åœ¨é—®é¢˜,æ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦â˜¹ï¸â˜¹ï¸â˜¹ï¸</strong></p>
</blockquote>
<h2><span id="springbootçš„å¼•è¨€">SpringBootçš„å¼•è¨€</span></h2><p>Spring Bootæ˜¯ç”±<code>Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶</code>ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥<code>ç®€åŒ–Springåº”ç”¨çš„ åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹</code>ã€‚è¯¥æ¡†æ¶ä½¿ç”¨äº†<code>ç‰¹å®šçš„æ–¹å¼æ¥è¿›è¡Œé…ç½®</code>ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸ å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Bootè‡´åŠ›äºåœ¨è“¬å‹ƒå‘å±•çš„å¿«é€Ÿåº” ç”¨å¼€å‘é¢†åŸŸ(rapid application development)æˆä¸ºé¢†å¯¼è€…ã€‚</p>
<p>Spring Boot å…¨æ–°æ¡†æ¶  ä½œç”¨: ç®€åŒ–springåº”ç”¨åˆå§‹æ­å»ºå’Œå¼€å‘è¿‡ç¨‹</p>
<p>å¦‚ä½•ç®€åŒ–:  å¼€å‘äººå‘˜ä½¿ç”¨springbootåªè¦åŸºäºç‰¹å®šæ–¹å¼è¿›è¡Œé…ç½®  ç®€åŒ–springä½¿ç”¨</p>
<p>SpringBoot å¾®æ¡†æ¶:   5åˆ†é’Ÿ å®Œæˆä¹‹å‰ssmä¸­ç¯å¢ƒ</p>
<p><code>springboot(å¾®æ¡†æ¶) = springmvc(æ§åˆ¶å™¨) + spring core(é¡¹ç›®ç®¡ç†)</code></p>
<h2><span id="springbootçš„ä¼˜åŠ¿">SpringBootçš„ä¼˜åŠ¿</span></h2><ol>
<li><code>åˆ›å»ºå®Œæ•´çš„ç‹¬ç«‹çš„Springåº”ç”¨ç¨‹åº  </code>  spring springmvc  åªæœ‰ä¸€ä¸ªå®¹å™¨</li>
<li><code>åµŒå…¥çš„Tomcatï¼Œæ— éœ€éƒ¨ç½²WARæ–‡ä»¶</code>  springboot å†…åµŒtomcat  åº”ç”¨è·‘åœ¨å†…åµŒæœåŠ¡å™¨</li>
<li><code>ç®€åŒ–Mavené…ç½®,è‡ªåŠ¨é…ç½®Spring Springmvc,æ²¡æœ‰XMLé…ç½®</code>  å‡ ä¸ªä¾èµ–  <ol>
<li>ç”¨æ¥springboot springåº”ç”¨åœ¨æ— xml</li>
</ol>
</li>
</ol>
<h2><span id="springbootçš„çº¦å®š">SpringBootçš„çº¦å®š</span></h2><ul>
<li><p><code>springboot é¡¹ç›®ä¸­å¿…é¡»åœ¨src/main/resourcesä¸­æ”¾å…¥application.yml(.properties)æ ¸å¿ƒé…ç½®æ–‡ä»¶  åå­—å¿…é¡»ä¸º:application</code></p>
</li>
<li><p><code>springboot é¡¹ç›®ä¸­å¿…é¡»åœ¨src/main/javaä¸­æ‰€æœ‰å­åŒ…ä¹‹å¤–æ„å»ºå…¨å±€å…¥å£ç±»å‹,xxApplication,å…¥å£ç±»ä¸€ä¸ªspringbooté¡¹ç›®åªèƒ½æœ‰ä¸€ä¸ª</code></p>
</li>
</ul>
<h2><span id="ç¯å¢ƒæ­å»º">ç¯å¢ƒæ­å»º</span></h2><p> <strong>ç¯å¢ƒè¦æ±‚</strong></p>
<pre><code class="markdown"># 1.System Requirements
        JDK1.8+
        MAVEN3.2+  
        Spring Framework 5.x+ 

# 2.ServletContainers: 
        Tomcat 9.0+

# 3.å¼€å‘å·¥å…·
        IDEA    2021ç‰ˆæœ¬ 
</code></pre>
<pre><code> **æ–°å»ºé¡¹ç›®ä¸­å¼•å…¥ä¾èµ–**
</code></pre>
<pre><code class="xml">    &lt;!--ç»§æ‰¿springbootçš„çˆ¶é¡¹ç›®--&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.5.0&lt;/version&gt;
    &lt;/parent&gt;

    &lt;dependencies&gt;
          &lt;!--å¼•å…¥springbootçš„webæ”¯æŒ--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
</code></pre>
<pre><code> **å¼•å…¥é…ç½®æ–‡ä»¶**
</code></pre>
<p>â€‹        <code>é¡¹ç›®ä¸­ src/main/resources/application.yml</code></p>
<pre><code> **ç¼–å†™å…¥å£ç±»**
</code></pre>
<pre><code class="java">//åœ¨é¡¹ç›®ä¸­å¦‚ä¸‹çš„åŒ…ç»“æ„ä¸­åˆ›å»ºå…¥å£ç±» Application
/*
    com
        +| baizhi
*/
    @SpringBootApplication
    public class Application &#123;
      public static void main(String[] args) &#123;
        SpringApplication.run(Application.class,args);
      &#125;
    &#125;
</code></pre>
<pre><code> **è¿è¡Œmainå¯åŠ¨é¡¹ç›®**
</code></pre>
<pre><code class="java">o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
com.baizhi.Application : Started Application in 2.152 seconds (JVM running for 2.611)
//è¯´æ˜:  å‡ºç°ä»¥ä¸Šæ—¥å¿—è¯´æ˜å¯åŠ¨æˆåŠŸ
</code></pre>
<blockquote>
<p><strong>æ³¨æ„:åˆ°è¿™é‡Œé¡¹ç›®ç¯å¢ƒå·²ç»æ­å»ºæˆåŠŸäº†,çœ‹çœ‹ä»…ä»…éœ€è¦5åˆ†é’ŸğŸ˜„ğŸ˜ğŸ˜</strong></p>
</blockquote>
<pre><code> **å»ºåŒ…å¹¶åˆ›å»ºæ§åˆ¶å™¨**
</code></pre>
<pre><code class="java">//åœ¨é¡¹ç›®ä¸­åˆ›å»ºæŒ‡å®šçš„åŒ…ç»“æ„
/*
     com
        +| baizhi
                +| controller */ 
                    @Controller
                  @RequestMapping(&quot;/hello&quot;)
                  public class HelloController &#123;
                    @RequestMapping(&quot;/hello&quot;)
                    @ResponseBody
                    public String hello()&#123;
                          System.out.println(&quot;======hello world=======&quot;);
                      return &quot;hello&quot;;
                    &#125;
                  &#125;
                                         
</code></pre>
<pre><code> **è®¿é—®é¡¹ç›®** 
</code></pre>
<pre><code class="markdown"># æ³¨æ„: springbootçš„é¡¹ç›®å¯åŠ¨é»˜è®¤é¡¹ç›®å
- è®¿é—®è·¯å¾„:  http://localhost:8080/hello/hello
</code></pre>
<p> <strong>ä¿®æ”¹å†…åµŒæœåŠ¡å™¨ç«¯å£</strong></p>
<pre><code class="yml">server:
  port: 8989
</code></pre>
<p> <strong>ä¿®æ”¹åº”ç”¨åç§°</strong></p>
<pre><code class="yml">server:
  servlet:
    context-path: /springboot_day1
</code></pre>
<h2><span id="ç›¸å…³æ³¨è§£è¯´æ˜">ç›¸å…³æ³¨è§£è¯´æ˜</span></h2><pre><code class="markdown"># å…¥å£ç±» SpringApplication
- SpringBootApplication: å…¨å±€å…¥å£ç±» æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ª
- mian å‡½æ•°å‚æ•°å¯ä»¥åœ¨å¯åŠ¨æ—¶æŒ‡å®šjvmå‚æ•°è¦†ç›–é»˜è®¤é…ç½®

# @SpringBootApplication æ³¨è§£ç­‰ä»·äº: 
- @SpringBootConfiguration           æ ‡è¯†è¿™æ˜¯ä¸€ä¸ªspringbootçš„é…ç½®ç±»,é»˜è®¤è‡ªå®šé…ç½®Springç¯å¢ƒ
- @EnableAutoConfiguration                      è‡ªåŠ¨ä¸é¡¹ç›®ä¸­é›†æˆçš„ç¬¬ä¸‰æ–¹æŠ€æœ¯è¿›è¡Œé›†æˆ
- @ComponentScan                                          æ‰«æå…¥å£ç±»æ‰€åœ¨å­åŒ…ä»¥åŠå­åŒ…åä»£åŒ…ä¸­æ³¨è§£    
</code></pre>
<h2><span id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</span></h2><p> <strong>é…ç½®æ–‡ä»¶çš„æ‹†åˆ†</strong></p>
<p>è¯´æ˜: åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ç”Ÿäº§ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒæœ‰å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ å› æ­¤å°†ç”Ÿäº§ä¸­çš„é…ç½®å’Œæµ‹è¯•ä¸­çš„é…ç½®æ‹†åˆ†å¼€,æ˜¯éå¸¸å¿…è¦çš„åœ¨springbootä¸­ä¹Ÿæä¾›äº†é…ç½®æ–‡ä»¶æ‹†åˆ†çš„æ–¹å¼. è¿™é‡Œä»¥ç”Ÿäº§ä¸­é¡¹ååç§°ä¸ä¸€è‡´ä¸ºä¾‹:</p>
<ul>
<li><p><strong>ç”Ÿäº§ä¸­é¡¹ç›®åä¸º: <code>springboot</code></strong></p>
</li>
<li><p><strong>æµ‹è¯•ä¸­é¡¹ç›®åä¸º: <code>springboot_day1</code></strong></p>
</li>
<li><p><strong>ç«¯å£åŒæ—¶ä¸º:   8080</strong></p>
</li>
</ul>
<pre><code class="yml"># ä¸»é…ç½®æ–‡ä»¶:
- application.yml    #ç”¨æ¥ä¹¦å†™ç›¸åŒçš„çš„é…ç½®
                server:
                    port: 8080 #ç”Ÿäº§å’Œæµ‹è¯•ç«¯å£ä¸€è‡´
                   
# ç”Ÿäº§é…ç½®æ–‡ä»¶:
- application-pord.yml #prodä¸ºé…ç½®æ–‡ä»¶ç®€å
                server:
                    context-path: /cmfz
    
#æµ‹è¯•é…ç½®æ–‡ä»¶:
-    application-dev.yml  #devä¸ºé…ç½®æ–‡ä»¶ç®€å
                server:
                    context-path: /springboot

#åœ¨ä¸»é…ç½®ä¸­æŒ‡å®šé‚£ä¸ªç¯å¢ƒç”Ÿæ•ˆé…ç½®
spring:
  profiles:
    active: dev #æŒ‡å®šé‚£ä¸ªç¯å¢ƒé…ç½®ç”Ÿæ•ˆ devä¸ºç¯å¢ƒé…ç½®æ–‡ä»¶çš„ç®€å
</code></pre>
<p> <strong>å¯åŠ¨æŒ‡å®šé…ç½®æ–‡ä»¶</strong></p>
<p>è¯´æ˜: å¾€å¾€åœ¨ä¼ä¸šçº§å¼€å‘è¿‡ç¨‹ä¸­ä¸ºSpringBootåº”ç”¨å¯åŠ¨æ—¶æŒ‡å®šä¸€ä¸ªå®Œæ•´å¤–éƒ¨é…ç½®ä¹Ÿæ˜¯ç»å¸¸ç”¨åˆ°çš„,åœ¨SpringBootä¸­ä¹Ÿæä¾›è¿™ä¸ªæ–¹å¼æ¥å¯åŠ¨é¡¹ç›®å¦‚:</p>
<pre><code class="markdown"># 1.åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„é…ç½®æ–‡ä»¶
</code></pre>
<pre><code class="markdown"># 2.å¯åŠ¨æ—¶æŒ‡å®šé…ç½®æ–‡ä»¶ä½ç½®
</code></pre>
<hr>
<h2><span id="å·¥å‚åˆ›å»ºå¯¹è±¡">å·¥å‚åˆ›å»ºå¯¹è±¡</span></h2><p> <strong>åˆ›å»ºå•ä¸ªå¯¹è±¡</strong></p>
<p>â€‹    åœ¨springbootä¸­å¯ä»¥ç®¡ç†å•ä¸ªå¯¹è±¡å¯ä»¥ç›´æ¥ä½¿ç”¨springæ¡†æ¶ä¸­æ³¨è§£å½¢å¼åˆ›å»ºã€‚</p>
<ul>
<li><strong><code>@Component</code></strong> é€šç”¨çš„å¯¹è±¡åˆ›å»ºæ³¨è§£<ul>
<li><code>@Controller</code>  ç”¨æ¥åˆ›å»ºæ§åˆ¶å™¨å¯¹è±¡</li>
<li><code>@Service</code>      ç”¨æ¥åˆ›å»ºä¸šåŠ¡å±‚å¯¹è±¡</li>
<li><code>@Repository</code> ç”¨æ¥åˆ›å»ºDAOå±‚å¯¹è±¡<ul>
<li>ä»¥ä¸Šæ³¨è§£éƒ½æœ‰valueå±æ€§ï¼Œvalueå±æ€§ç”¨æ¥æŒ‡å®šå·¥å‚ä¸­å¯¹è±¡åç§°</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="java">@Service
public class DemoServiceImpl implements UserService&#123;
  //doing....
&#125;    
</code></pre>
<pre><code class="markdown"># 2.é€šè¿‡å·¥å‚åˆ›å»ºä¹‹åå¯ä»¥åœ¨ä½¿ç”¨å¤„æ³¨å…¥è¯¥å¯¹è±¡
</code></pre>
<pre><code class="java">@Controller
@RequestMapping(&quot;hello&quot;)
public class HelloController &#123;
    @Autowired
    private DemoService demoService;
    //doing...
&#125;
</code></pre>
<p> <strong>åˆ›å»ºå¤šä¸ªå¯¹è±¡</strong></p>
<p>â€‹    å¦‚ä½•åœ¨springbootä¸­åƒspringæ¡†æ¶ä¸€æ ·é€šè¿‡xmlåˆ›å»ºå¤šä¸ªå¯¹è±¡,åœ¨SpringBootä¸­ä¹Ÿæä¾›äº†ç›¸åŒæ³¨è§£å¦‚**<code>@Configuration + @Bean</code>**æ³¨è§£è¿›è¡Œåˆ›å»º</p>
<ul>
<li><strong><code>@Configuration</code></strong>   ä»£è¡¨è¿™æ˜¯ä¸€ä¸ªspringçš„é…ç½®ç±»ç›¸å½“äºSpring.xmlé…ç½®æ–‡ä»¶</li>
<li><strong><code>@Bean</code></strong>   ç”¨æ¥åœ¨å·¥å‚ä¸­åˆ›å»ºè¿™ä¸ª@Beanæ³¨è§£æ ‡è¯†çš„å¯¹è±¡  <ul>
<li>é»˜è®¤ä½¿ç”¨@Beanåˆ›å»ºå¯¹è±¡åœ¨å·¥å‚ä¸­å”¯ä¸€æ ‡è¯†ä¸º<strong>æ–¹æ³•åç§°</strong></li>
<li>ä¿®æ”¹åœ¨å·¥å‚ä¸­å¯¹è±¡æ ‡è¯†å¯ä»¥åœ¨ä½¿ç”¨**@Bean(â€œå·¥å‚ä¸­åå­—â€)æŒ‡å®šä¸€ä¸ªåå­—**</li>
</ul>
</li>
</ul>
<pre><code class="markdown"># 1.ç®¡ç†å¤æ‚å¯¹è±¡çš„åˆ›å»º
</code></pre>
<pre><code class="java">@Configuration
public class Beans &#123;
    @Bean
    public Calendar calendar()&#123;
        return Calendar.getInstance();
    &#125;
&#125;
</code></pre>
<pre><code class="markdown"># 2.ä½¿ç”¨å¤æ‚å¯¹è±¡
</code></pre>
<pre><code class="java">@Controller
@RequestMapping(&quot;hello&quot;)
public class HelloController &#123;
    @Autowired
    private Calendar calendar;
    ......
&#125;
</code></pre>
<pre><code class="markdown"># æ³¨æ„: 
                1.@Configuration ç”¨æ¥åœ¨å·¥å‚ä¸­ä¸€æ¬¡æ€§åˆ›å»ºå¤šä¸ªå¯¹è±¡
              2.@Component     ç”¨æ¥åˆ›å»ºå•ä¸ªå¯¹è±¡                     
</code></pre>
<hr>
<h2><span id="å±æ€§æ³¨å…¥">å±æ€§æ³¨å…¥</span></h2><p> <strong>åŸºæœ¬å±æ€§æ³¨å…¥</strong></p>
<pre><code class="markdown"># 1.@Value å±æ€§æ³¨å…¥               [é‡ç‚¹]
</code></pre>
<pre><code class="java">@RestController
public class HelloController &#123;
    //åŸºæœ¬ç±»å‹+Stringç±»å‹+æ—¥æœŸç±»å‹
      @Value(&quot;$&#123;name&#125;&quot;)
    private String name;
    @Value(&quot;$&#123;age&#125;&quot;)
    private Integer age;
    @Value(&quot;$&#123;sex&#125;&quot;)
    private Boolean sex;
    @Value(&quot;$&#123;price&#125;&quot;)
    private Double price;
    @Value(&quot;$&#123;bir&#125;&quot;)
    private Date bir;
        //æ³¨å…¥æ•°ç»„
    @Value(&quot;$&#123;qqs&#125;&quot;)
    private String[] qqs;
      //æ³¨å…¥list
    @Value(&quot;$&#123;lists&#125;&quot;)
    private List&lt;String&gt; lists;
      //æ³¨å…¥maps
    @Value(&quot;#&#123;$&#123;maps&#125;&#125;&quot;)
    private Map&lt;String,String&gt; maps;
&#125;
</code></pre>
<pre><code class="markdown"># 2.åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰æ³¨å…¥å€¼
</code></pre>
<pre><code class="yml">name: å°é™ˆ
age: 23
price: 23.23
sex: true
bir: 2012/12/12

qqs: 123,3434,3434
lists: xiaochen,xiaoming,xiaosan

maps: &quot;&#123;&#39;aa&#39;:&#39;1234&#39;,&#39;bb&#39;:&#39;2344&#39;&#125;&quot;
</code></pre>
<ul>
<li><strong><code>æ³¨æ„: è¿™é‡Œé¢mapé›†åˆæ³¨å…¥æ¯”è¾ƒç‰¹æ®Š</code></strong></li>
</ul>
<p> <strong>å¯¹è±¡æ–¹å¼æ³¨å…¥</strong></p>
<p><strong><code>æ³¨æ„: è¿™ç§æ–¹å¼å¿…é¡»æä¾›SETæ–¹æ³•</code></strong></p>
<pre><code class="markdown"># 1. @ConfigurationProperties(prefix=&quot;å‰ç¼€&quot;)
</code></pre>
<pre><code class="java">@Component
@ConfigurationProperties(prefix = &quot;user&quot;)
public class User &#123;
    private String id;
    private String name;
    private Integer age;
    private String  bir;
    //set æ–¹æ³•ä¸€å®šè¦æä¾›
&#125;
</code></pre>
<pre><code class="markdown"># 2. ç¼–å†™é…ç½®æ–‡ä»¶
</code></pre>
<pre><code class="yml">user:
  id: 24
  name: xiaohei
  age: 23
  bir: 2012/12/12
</code></pre>
<pre><code class="markdown"># 3. å¼•å…¥ä¾èµ–æ„å»ºè‡ªå®šä¹‰æ³¨å…¥å…ƒæ•°æ®
</code></pre>
<pre><code class="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;
  &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
</code></pre>
<hr>
<h2><span id="jspæ¨¡æ¿é›†æˆ">JSPæ¨¡æ¿é›†æˆ</span></h2><p>åœ¨SpringBootæ¡†æ¶ä¸­é»˜è®¤æ¨¡æ¿æ¨èä½¿ç”¨Thymeleafæ¨¡æ¿,è¿™é‡Œæˆ‘ä»¬ä¼˜å…ˆè®²ä¸JSPæ¨¡æ¿é›†æˆ</p>
<p> <strong>å¼•å…¥jspçš„é›†æˆjaråŒ…</strong></p>
<pre><code class="xml">&lt;!--cæ ‡ç­¾åº“--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;jstl&lt;/groupId&gt;
    &lt;artifactId&gt;jstl&lt;/artifactId&gt;
    &lt;version&gt;1.2&lt;/version&gt;
&lt;/dependency&gt;

&lt;!--è®©å†…åµŒtomcatå…·æœ‰è§£æjspåŠŸèƒ½--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;
    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p> <strong>å¼•å…¥jspè¿è¡Œæ’ä»¶</strong></p>
<pre><code class="xml">&lt;build&gt;
    &lt;finalName&gt;springboot_day1&lt;/finalName&gt;
    &lt;!--å¼•å…¥springbootæ’ä»¶ å¯ä»¥æ­£ç¡®æ‰“åŒ…  æ˜¾ç¤ºjsp--&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre>
<p> <strong>é…ç½®è§†å›¾è§£æå™¨</strong></p>
<pre><code class="yml">#åœ¨é…ç½®æ–‡ä»¶ä¸­å¼•å…¥è§†å›¾è§£æå™¨
spring:
  mvc:
    view:
      prefix: /     # /ä»£è¡¨è®¿é—®é¡¹ç›®ä¸­webappä¸­é¡µé¢
      suffix: .jsp 
</code></pre>
<p> <strong>ç¬¬ä¸€ç§æ–¹å¼ä½¿ç”¨æ’ä»¶å¯åŠ¨è®¿é—®JSPé¡µé¢</strong></p>
<p> <strong>ç¬¬äºŒç§æ–¹å¼ä½¿ç”¨ideaä¸­æŒ‡å®šå·¥ä½œç›®å½•å¯åŠ¨</strong> è®¿é—®JSP</p>
<p> <strong>å¯åŠ¨é¡¹ç›®æµ‹è¯•</strong></p>
<pre><code class="http">http://localhost:8989/index.jsp
</code></pre>
<p> <strong>ä¿®æ”¹jspæ— é¡»é‡å¯åº”ç”¨</strong></p>
<pre><code class="yml">server:
  servlet:
    jsp:
      init-parameters:
        development: true
</code></pre>
<hr>
<h2><span id="æ•´åˆmybatisæ¡†æ¶">æ•´åˆMybatisæ¡†æ¶</span></h2><pre><code> **å¼•å…¥ä¾èµ–**
</code></pre>
<pre><code class="xml">&lt;dependency&gt;
  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
  &lt;artifactId&gt;druid&lt;/artifactId&gt;
  &lt;version&gt;1.2.4&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;mysql&lt;/groupId&gt;
  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
  &lt;version&gt;5.1.38&lt;/version&gt;
&lt;/dependency&gt;

&lt;!--æ•´åˆmybatis--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
  &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
  &lt;version&gt;2.1.4&lt;/version&gt;
&lt;/dependency&gt;

&lt;!--
  è¯´æ˜:ç”±äºspringbootæ•´åˆmybatisç‰ˆæœ¬ä¸­é»˜è®¤ä¾èµ–mybatis å› æ­¤ä¸éœ€è¦é¢å¤–å¼•å…¥mybatiç‰ˆæœ¬,å¦åˆ™ä¼šå‡ºç°å†²çª`--&gt;
</code></pre>
<pre><code> **é…ç½®é…ç½®æ–‡ä»¶**
</code></pre>
<pre><code class="yml">spring:
  mvc:
    view:
      prefix: /
      suffix: .jsp
  datasource:
    type: org.apache.commons.dbcp.BasicDataSource   #æŒ‡å®šè¿æ¥æ± ç±»å‹
    driver-class-name: com.mysql.jdbc.Driver        #æŒ‡å®šé©±åŠ¨
    url: jdbc:mysql://localhost:3306/ssm?characterEncoding=UTF-8           #æŒ‡å®šurl
    username: root                                    #æŒ‡å®šç”¨æˆ·å
    password: root                                     #æŒ‡å®šå¯†ç 
</code></pre>
<pre><code> **åŠ å…¥mybatisé…ç½®**
</code></pre>
<pre><code class="yml">#é…ç½®æ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹é…ç½®:

mybatis:
  mapper-locations: classpath:com/baizhi/mapper/*.xml  #æŒ‡å®šmapperé…ç½®æ–‡ä»¶ä½ç½®
  type-aliases-package: com.baizhi.entity              #æŒ‡å®šèµ·åˆ«åæ‰€åœ¨åŒ…
</code></pre>
<pre><code class="java">//å…¥å£ç±»ä¸­åŠ å…¥å¦‚ä¸‹é…ç½®:
@SpringBootApplication
@MapperScan(&quot;com.baizhi.dao&quot;)   //å¿…é¡»åœ¨å…¥å£ç±»ä¸­åŠ å…¥è¿™ä¸ªé…ç½®
public class Application &#123;
    public static void main(String[] args) &#123;
        SpringApplication.run(Application.class,args);
    &#125;
&#125;
</code></pre>
<pre><code> **å»ºè¡¨**
</code></pre>
<pre><code class="sql">CREATE TABLE `t_clazz` (
  `id` varchar(40) NOT NULL,
  `name` varchar(80) DEFAULT NULL,
  `no` varchar(90) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
</code></pre>
<pre><code> **å¼€å‘å®ä½“ç±»**
</code></pre>
<pre><code class="java">public class Clazz &#123;
    private String id;
    private String name;
    private String no;
    //get set æ–¹æ³•çœç•¥....
&#125;
</code></pre>
<pre><code> **å¼€å‘DAOæ¥å£ä»¥åŠMapper**
</code></pre>
<pre><code class="java">public interface ClazzDAO &#123;
    List&lt;Clazz&gt; findAll();
&#125;
</code></pre>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;com.baizhi.dao.ClazzDAO&quot;&gt;
    &lt;select id=&quot;findAll&quot; resultType=&quot;Clazz&quot;&gt;
        select * from t_clazz 
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code> **å¼€å‘Serviceä»¥åŠå®ç°**
</code></pre>
<pre><code class="java">//æ¥å£
public interface ClazzService &#123;
    List&lt;Clazz&gt; findAll();
&#125;
//å®ç°
@Service
@Transactional
public class ClazzServiceImpl implements  ClazzService &#123;
    @Autowired
    private ClazzDAO clazzDAO;
   
    @Transactional(propagation = Propagation.SUPPORTS)
    @Override
    public List&lt;Clazz&gt; findAll() &#123;
        return clazzDAO.findAll();
    &#125;
&#125;
</code></pre>
<pre><code> **å¼€å‘Controller**
</code></pre>
<pre><code class="java">@RestController
public class ClazzController &#123;
    @Autowired
    private ClazzService clazzService;
  
    //æŸ¥è¯¢æ‰€æœ‰
    @RequestMapping(&quot;findAll&quot;)
    public List&lt;Clazz&gt; findAll()&#123;
        return clazzService.findAll();
    &#125;   
&#125;
</code></pre>
<p> <strong>å¯åŠ¨é¡¹ç›®è®¿é—®æµ‹è¯•</strong></p>
<pre><code class="http">http://localhost:8989/é¡¹ç›®å/findAll
</code></pre>
<h2><span id="æœ¬åœ°æµ‹è¯•">æœ¬åœ°æµ‹è¯•</span></h2><blockquote>
<p>å¾€å¾€åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸šåŠ¡ä»£ç è¯¾ç¨‹éå¸¸å¤æ‚é¢‘ç¹å¯åŠ¨æœåŠ¡å™¨æµ‹è¯•,éå¸¸éº»çƒ¦!è¿™ä¸ªæ—¶å€™ä½¿ç”¨æœ¬åœ°æµ‹è¯•å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆ,springbootä¹Ÿæä¾›äº†æœ¬åœ°æµ‹è¯•è§£å†³æ–¹æ¡ˆ!</p>
</blockquote>
<p> <strong>å¼•å…¥æµ‹è¯•ä¾èµ–</strong></p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
     &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
<p> <strong>ç¼–å†™æµ‹è¯•ç±»</strong></p>
<ul>
<li><strong><code>@SpringBootTest</code></strong> <ul>
<li>ä¿®é¥°èŒƒå›´: ç”¨åœ¨ç±»ä¸Š</li>
<li>ä½œç”¨: ç”¨æ¥å¯åŠ¨æœ¬åœ°Springç¯å¢ƒ</li>
</ul>
</li>
</ul>
<pre><code class="java">@SpringBootTest
public class TestEmpService &#123;

    @Autowired
    private EmpService empService;

    @Test
    public void test()&#123;
        empService.findAll().forEach(emp-&gt; System.out.println(emp));
    &#125;
&#125;
</code></pre>
<hr>
<h2><span id="çƒ­éƒ¨ç½²å·¥å…·">çƒ­éƒ¨ç½²å·¥å…·</span></h2><p><strong><code>ä¸ºäº†è¿›ä¸€æ­¥æé«˜å¼€å‘æ•ˆç‡,springbootä¸ºæˆ‘ä»¬æä¾›äº†å…¨å±€é¡¹ç›®çƒ­éƒ¨ç½²,æ—¥ååœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¿®æ”¹äº†éƒ¨åˆ†ä»£ç ä»¥åŠç›¸å…³é…ç½®æ–‡ä»¶å,ä¸éœ€è¦æ¯æ¬¡é‡å¯ä½¿ä¿®æ”¹ç”Ÿæ•ˆ,åœ¨é¡¹ç›®ä¸­å¼€å¯äº†springbootå…¨å±€çƒ­éƒ¨ç½²ä¹‹ååªéœ€è¦åœ¨ä¿®æ”¹ä¹‹åç­‰å¾…å‡ ç§’å³å¯ä½¿ä¿®æ”¹ç”Ÿæ•ˆã€‚</code></strong></p>
<p>  <strong>å¼€å¯çƒ­éƒ¨ç½²</strong></p>
<ul>
<li> é¡¹ç›®ä¸­å¼•å…¥ä¾èµ– (æ¯æ¬¡æ­å»ºé¡¹ç›®éƒ½éœ€è¦å¼•å…¥)</li>
</ul>
<pre><code class="xml">&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
   &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>è®¾ç½®ideaä¸­æ”¯æŒè‡ªåŠ¨ç¼–è¯‘(åªéœ€è¦è®¾ç½®ä¸€æ¬¡)</li>
</ul>
<pre><code class="markdown"># 1.å¼€å¯è‡ªåŠ¨ç¼–è¯‘

    Preferences | Build, Execution, Deployment | Compiler -&gt; å‹¾é€‰ä¸Š Build project automatically è¿™ä¸ªé€‰é¡¹

# 2.å¼€å¯å…è®¸åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹æ–‡ä»¶
    ctrl + alt + shift + / ----&gt;é€‰æ‹©1.Registry ---&gt; å‹¾é€‰ compiler.automake.allow.when.app.running è¿™ä¸ªé€‰é¡¹
</code></pre>
<p> å¯åŠ¨é¡¹ç›®æ£€æµ‹çƒ­éƒ¨ç½²æ˜¯å¦ç”Ÿæ•ˆ</p>
<pre><code class="markdown"># 1.å¯åŠ¨å‡ºç°å¦‚ä¸‹æ—¥å¿—ä»£è¡¨ç”Ÿæ•ˆ
</code></pre>
<pre><code class="verilog">2019-07-17 21:23:17.566  INFO 4496 --- [  restartedMain] com.baizhi.InitApplication               : Starting InitApplication on chenyannandeMacBook-Pro.local with PID 4496 (/Users/chenyannan/IdeaProjects/ideacode/springboot_day1/target/classes started by chenyannan in /Users/chenyannan/IdeaProjects/ideacode/springboot_day1)
2019-07-17 21:23:17.567  INFO 4496 --- [  restartedMain] com.baizhi.InitApplication               : The following profiles are active: dev
2019-07-17 21:23:17.612  INFO 4496 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@66d799c5: startup date [Wed Jul 17 21:23:17 CST 2019]; root of context hierarchy
2019-07-17 21:23:18.782  INFO 4496 --- [  restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8989 (http)
2019-07-17 21:23:18.796  INFO 4496 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-07-17 21:23:18.797  INFO 4496 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.20
</code></pre>
<p><strong><code>æ³¨æ„:æ—¥å¿—å‡ºç°restartedMainä»£è¡¨å·²ç»ç”Ÿæ•ˆ,åœ¨ä½¿ç”¨çƒ­éƒ¨ç½²æ—¶å¦‚æœé‡åˆ°ä¿®æ”¹ä¹‹åä¸èƒ½ç”Ÿæ•ˆ,è¯·é‡è¯•é‡å¯é¡¹ç›®åœ¨è¯•</code></strong></p>
<hr>
<h2><span id="æ—¥å¿—å¤„ç†">æ—¥å¿—å¤„ç†</span></h2><p> <strong>å¼•è¨€</strong></p>
<p>â€‹    springbootæ¡†æ¶ é›†æˆæ—¥å¿—  logback æ—¥å¿—  </p>
<p>â€‹    Logbackæ˜¯ç”±<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/log4j/480673">log4j</a>åˆ›å§‹äººè®¾è®¡çš„åˆä¸€ä¸ªå¼€æºæ—¥å¿—ç»„ä»¶ã€‚ç›®å‰ï¼Œlogbackåˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼šlogback-coreï¼Œlogback-classicå’Œlogback-accessã€‚æ˜¯å¯¹log4jæ—¥å¿—å±•ç¤ºè¿›ä¸€æ­¥æ”¹è¿›!</p>
<p>â€‹    æ€»ç»“: logback ä¹Ÿæ˜¯ä¸€ä¸ªå¼€æºæ—¥å¿—ç»„ä»¶  å’Œ  log4jä½œç”¨ä¸€è‡´ éƒ½æ˜¯ç”¨æ¥ç”Ÿæˆæ—¥å¿— logbackæ›´åŠ è½»é‡</p>
<p><strong>æ—¥å¿—çš„çº§åˆ«</strong></p>
<pre><code class="markdown">&gt; All &lt; Trace &lt; `DEBUG &lt; INFO &lt; WARN &lt; ERROR` &lt; Fatal &lt; OFF

- OFF   | å…³é—­ï¼šæœ€é«˜çº§åˆ«ï¼Œä¸æ‰“å°æ—¥å¿—ã€‚ 
- FATAL | è‡´å‘½ï¼šæŒ‡æ˜éå¸¸ä¸¥é‡çš„å¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ç»ˆæ­¢æ‰§è¡Œé”™è¯¯äº‹ä»¶ã€‚
- ERROR | é”™è¯¯ï¼šæŒ‡æ˜é”™è¯¯äº‹ä»¶ï¼Œä½†åº”ç”¨å¯èƒ½è¿˜èƒ½ç»§ç»­è¿è¡Œã€‚ 
- WARN | è­¦å‘Šï¼šæŒ‡æ˜å¯èƒ½æ½œåœ¨çš„å±é™©çŠ¶å†µã€‚ 
- INFO | ä¿¡æ¯ï¼šæŒ‡æ˜æè¿°ä¿¡æ¯ï¼Œä»ç²—ç²’åº¦ä¸Šæè¿°äº†åº”ç”¨è¿è¡Œè¿‡ç¨‹ã€‚ 
- DEBUG | è°ƒè¯•ï¼šæŒ‡æ˜ç»†è‡´çš„äº‹ä»¶ä¿¡æ¯ï¼Œå¯¹è°ƒè¯•åº”ç”¨æœ€æœ‰ç”¨ã€‚
- TRACE | è·Ÿè¸ªï¼šæŒ‡æ˜ç¨‹åºè¿è¡Œè½¨è¿¹ï¼Œæ¯”DEBUGçº§åˆ«çš„ç²’åº¦æ›´ç»†ã€‚ 
- ALL | æ‰€æœ‰ï¼šæ‰€æœ‰æ—¥å¿—çº§åˆ«ï¼ŒåŒ…æ‹¬å®šåˆ¶çº§åˆ«ã€‚

&gt; æ—¥å¿—çº§åˆ«ç”±ä½åˆ°é«˜:  `æ—¥å¿—çº§åˆ«è¶Šé«˜è¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯è¶Šå¤š`
</code></pre>
<p><strong>é¡¹ç›®ä¸­æ—¥å¿—åˆ†ç±»</strong></p>
<pre><code class="markdown"># æ—¥å¿—åˆ†ç±»:
- ä¸€ç§æ˜¯rootLogger(æ ¹å…¨å±€æ—¥å¿—) :     ç”¨æ¥ç›‘å¬é¡¹ç›®ä¸­æ‰€æœ‰çš„è¿è¡Œæ—¥å¿— åŒ…æ‹¬å¼•å…¥ä¾èµ–jarä¸­çš„æ—¥å¿— 

- ä¸€ç§æ˜¯logger(æŒ‡å®šåŒ…çº§åˆ«æ—¥å¿—) :         ç”¨æ¥ç›‘å¬é¡¹ç›®ä¸­æŒ‡å®šåŒ…ä¸­çš„æ—¥å¿—ä¿¡æ¯
</code></pre>
<p><strong>é…ç½®æ—¥å¿—</strong></p>
<p><strong><code>æ³¨æ„:SpringBootæ¡†æ¶ä¸­é»˜è®¤æ ¹æ—¥å¿—ä¸ºINFO</code></strong></p>
<pre><code class="yml">logging:
  level:
    root: debug #æŒ‡å®šæ ¹æ—¥å¿—çº§åˆ«(ä¸€èˆ¬ä¸æ¨èä¿®æ”¹æ ¹æ—¥å¿—,è¾“å‡ºä¿¡æ¯å¤ªå¤š,æ¨èä½¿ç”¨å­æ—¥å¿—)
    com.baizhi.dao: debug #æŒ‡å®šæŸä¸ªåŒ…ä¸­æ—¥å¿—
  file:
    name: aaa.log #æŒ‡å®šæ—¥å¿—åç§°
    path: ./  #æŒ‡å®šæ—¥å¿—æ–‡ä»¶ç›®å½•
</code></pre>
<pre><code> **é¡¹ç›®ä¸­ä½¿ç”¨æ—¥å¿—**
</code></pre>
<pre><code class="java">@Controller
public class HelloController &#123;
    //å£°æ˜æ—¥å¿—æˆå‘˜
    private static final Logger log = LoggerFactory.getLogger(HelloController.class);
    @RequestMapping(&quot;/hello&quot;)
    @ResponseBody
    public String hello()&#123;
        System.out.println(&quot;======hello world=======&quot;);
        logger.debug(&quot;DEBUG,&#123;&#125;&quot;,&quot;ä¿¡æ¯&quot;);
        logger.info(&quot;INFO,&#123;&#125;&quot;,&quot;ä¿¡æ¯&quot;);
        logger.warn(&quot;WARN,&#123;&#125;&quot;,&quot;ä¿¡æ¯&quot;);
        logger.error(&quot;ERROR,&#123;&#125;&quot;,&quot;ä¿¡æ¯&quot;);
        return &quot;hello&quot;;
    &#125;
&#125;
</code></pre>
<hr>
<h2><span id="åˆ‡é¢ç¼–ç¨‹">åˆ‡é¢ç¼–ç¨‹</span></h2><p> <strong>å¼•è¨€</strong></p>
<blockquote>
<p>springbootæ˜¯å¯¹åŸæœ‰é¡¹ç›®ä¸­springæ¡†æ¶å’Œspringmvcçš„è¿›ä¸€æ­¥å°è£…,å› æ­¤åœ¨springbootä¸­åŒæ ·æ”¯æŒspringæ¡†æ¶ä¸­AOPåˆ‡é¢ç¼–ç¨‹,ä¸è¿‡åœ¨springbootä¸­ä¸ºäº†å¿«é€Ÿå¼€å‘ä»…ä»…æä¾›äº†æ³¨è§£æ–¹å¼çš„åˆ‡é¢ç¼–ç¨‹.</p>
</blockquote>
<p> <strong>ä½¿ç”¨</strong></p>
<p> å¼•å…¥ä¾èµ–</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p> ç›¸å…³æ³¨è§£</p>
<pre><code class="markdown"># åˆ‡é¢æ³¨è§£
- @Aspect ç”¨æ¥ç±»ä¸Š,ä»£è¡¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªåˆ‡é¢
- @Before ç”¨åœ¨æ–¹æ³•ä¸Šä»£è¡¨è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªå‰ç½®é€šçŸ¥æ–¹æ³• 
- @After ç”¨åœ¨æ–¹æ³•ä¸Šä»£è¡¨è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªåç½®é€šçŸ¥æ–¹æ³• @Around ç”¨åœ¨æ–¹æ³•ä¸Šä»£è¡¨è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªç¯ç»•çš„æ–¹æ³•
- @Around ç”¨åœ¨æ–¹æ³•ä¸Šä»£è¡¨è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªç¯ç»•çš„æ–¹æ³•
</code></pre>
<p> å‰ç½®åˆ‡é¢</p>
<pre><code class="java">@Aspect
@Configuration
public class MyAspect &#123;
    @Before(&quot;execution(* com.baizhi.service.*.*(..))&quot;)
    public void before(JoinPoint joinPoint)&#123;
        System.out.println(&quot;å‰ç½®é€šçŸ¥&quot;);
        joinPoint.getTarget();//ç›®æ ‡å¯¹è±¡
        joinPoint.getSignature();//æ–¹æ³•ç­¾å
        joinPoint.getArgs();//æ–¹æ³•å‚æ•°
    &#125;
&#125;
</code></pre>
<p> åç½®åˆ‡é¢</p>
<pre><code class="java">@Aspect
@Configuration
public class MyAspect &#123;
    @After(&quot;execution(* com.baizhi.service.*.*(..))&quot;)
    public void before(JoinPoint joinPoint)&#123;
        System.out.println(&quot;åç½®é€šçŸ¥&quot;);
        joinPoint.getTarget();//ç›®æ ‡å¯¹è±¡
        joinPoint.getSignature();//æ–¹æ³•ç­¾å
        joinPoint.getArgs();//æ–¹æ³•å‚æ•°
    &#125;
&#125;
</code></pre>
<p><strong><code>æ³¨æ„: å‰ç½®é€šçŸ¥å’Œåç½®é€šçŸ¥éƒ½æ²¡æœ‰è¿”å›å€¼,æ–¹æ³•å‚æ•°éƒ½ä¸ºjoinpoint</code></strong></p>
<p> ç¯ç»•åˆ‡é¢</p>
<pre><code class="java">@Aspect
@Configuration
public class MyAspect &#123;
    @Around(&quot;execution(* com.baizhi.service.*.*(..))&quot;)
    public Object before(ProceedingJoinPoint proceedingJoinPoint) throws Throwable &#123;
        System.out.println(&quot;è¿›å…¥ç¯ç»•é€šçŸ¥&quot;);
        proceedingJoinPoint.getTarget();//ç›®æ ‡å¯¹è±¡
        proceedingJoinPoint.getSignature();//æ–¹æ³•ç­¾å
        proceedingJoinPoint.getArgs();//æ–¹æ³•å‚æ•°
        Object proceed = proceedingJoinPoint.proceed();//æ”¾è¡Œæ‰§è¡Œç›®æ ‡æ–¹æ³•
        System.out.println(&quot;ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹åå›åˆ°ç¯ç»•é€šçŸ¥&quot;);
        return proceed;//è¿”å›ç›®æ ‡æ–¹æ³•è¿”å›å€¼
    &#125;
&#125;
</code></pre>
<blockquote>
<p><strong><code>æ³¨æ„: ç¯ç»•é€šçŸ¥å­˜åœ¨è¿”å›å€¼,å‚æ•°ä¸ºProceedingJoinPoint,å¦‚æœæ‰§è¡Œæ”¾è¡Œ,ä¸ä¼šæ‰§è¡Œç›®æ ‡æ–¹æ³•,ä¸€æ—¦æ”¾è¡Œå¿…é¡»å°†ç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼è¿”å›,å¦åˆ™è°ƒç”¨è€…æ— æ³•æ¥å—è¿”å›æ•°æ®</code></strong></p>
</blockquote>
<h2><span id="æ–‡ä»¶ä¸Šä¼ ä¸‹è½½">æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</span></h2><p> <strong>æ–‡ä»¶ä¸Šä¼ </strong></p>
<p><code>ç”¨æˆ·è®¿é—®å½“å‰ç³»ç»Ÿ,å°†è‡ªå·±æœ¬åœ°è®¡ç®—æœºä¸­æ–‡ä»¶é€šè¿‡æµè§ˆå™¨ä¸Šä¼ åˆ°å½“å‰ç³»ç»Ÿæ‰€åœ¨çš„æœåŠ¡å™¨è¿‡ç¨‹ä¸­ç§°ä¹‹ä¸ºæ–‡ä»¶çš„ä¸Šä¼ </code></p>
<p>æ–‡ä»¶ä¸Šä¼ : ç”¨æˆ·å°†è‡ªå·±è®¡ç®—æœºä¸­æ–‡ä»¶ ä¸Šä¼ åˆ° é¡¹ç›®æ‰€åœ¨æœåŠ¡å™¨è¿‡ç¨‹ã€æ–‡ä»¶æœåŠ¡å™¨ã€OSS ç§°ä¹‹ä¸ºæ–‡ä»¶ä¸Šä¼ </p>
<ul>
<li>å‡†å¤‡ä¸Šä¼ é¡µé¢</li>
</ul>
<pre><code class="html">&lt;form action=&quot;è·¯å¾„....&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
        &lt;input type=&quot;file&quot; name=&quot;aa&quot;&gt;
        &lt;input type=&quot;submit&quot; value=&quot;ä¸Šä¼ &quot;&gt;
&lt;/form&gt;
&lt;!--
    1. è¡¨å•æäº¤æ–¹å¼å¿…é¡»æ˜¯post
    2. è¡¨å•çš„enctypeå±æ€§å¿…é¡»ä¸ºmultipart/form-data
    3. åå°æ¥å—å˜é‡åå­—è¦ä¸æ–‡ä»¶é€‰æ‹©nameå±æ€§ä¸€è‡´
--&gt;
</code></pre>
<ul>
<li>ç¼–å†™æ§åˆ¶å™¨</li>
</ul>
<pre><code class="java">@Controller
@RequestMapping(&quot;/file&quot;)
public class FileController &#123;
  @RequestMapping(&quot;/upload&quot;)
  public String upload(MultipartFile aa, HttpServletRequest request) throws IOException &#123;
        String realPath = request.getRealPath(&quot;/upload&quot;);
        aa.transferTo(new File(realPath,aa.getOriginalFilename()));//æ–‡ä»¶ä¸Šä¼ 
        return &quot;index&quot;;
  &#125;
&#125;
</code></pre>
<ul>
<li>ä¿®æ”¹æ–‡ä»¶ä¸Šä¼ å¤§å°</li>
</ul>
<pre><code class="yml">#ä¸Šä¼ æ—¶å‡ºç°å¦‚ä¸‹å¼‚å¸¸:  ä¸Šä¼ æ–‡ä»¶çš„å¤§å°è¶…å‡ºé»˜è®¤é…ç½®      é»˜è®¤10M
nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (38443713) exceeds the configured maximum (10485760)
#ä¿®æ”¹ä¸Šä¼ æ–‡ä»¶å¤§å°:
spring:
  http:
    multipart:
       max-request-size: 209715200  #ç”¨æ¥æ§åˆ¶æ–‡ä»¶ä¸Šä¼ å¤§å°çš„é™åˆ¶
       max-file-size: 209715200 #ç”¨æ¥æŒ‡å®šæœåŠ¡ç«¯æœ€å¤§æ–‡ä»¶å¤§å°   

spring.servlet.multipart.max-file-size=500MB
spring.servlet.multipart.max-request-size=500MB
</code></pre>
<p><strong>æ–‡ä»¶ä¸‹è½½</strong></p>
<p><code>æ–‡ä»¶ä¸‹è½½:  å°†æœåŠ¡å™¨æŸä¸ªèµ„æºæ–‡ä»¶ä¸‹è½½åˆ°ç”¨æˆ·æœ¬åœ°è®¡ç®—æœºè¿‡ç¨‹ç§°ä¹‹ä¸ºæ–‡ä»¶ä¸‹è½½</code></p>
<ul>
<li>æä¾›ä¸‹è½½æ–‡ä»¶é“¾æ¥</li>
</ul>
<pre><code class="html">&lt;a href=&quot;../file/download?fileName=corejava.txt&quot;&gt;corejava.txt&lt;/a&gt;
</code></pre>
<ul>
<li>å¼€å‘æ§åˆ¶å™¨</li>
</ul>
<pre><code class="java">@RequestMapping(&quot;/download&quot;)
public void download(String fileName, HttpServletRequest request, HttpServletResponse response) throws Exception &#123;
        String realPath = request.getRealPath(&quot;/upload&quot;);
        FileInputStream is = new FileInputStream(new File(realPath, fileName));
        ServletOutputStream os = response.getOutputStream();
        response.setHeader(&quot;content-disposition&quot;,&quot;attachment;fileName=&quot;+ URLEncoder.encode(fileName,&quot;UTF-8&quot;));
        IOUtils.copy(is,os);
        IOUtils.closeQuietly(is);
        IOUtils.closeQuietly(os);
    &#125;
</code></pre>
<hr>
<h2><span id="æ‹¦æˆªå™¨">æ‹¦æˆªå™¨</span></h2><p><strong>å¼€å‘æ‹¦æˆªå™¨</strong></p>
<pre><code class="java">public class MyInterceptor implements HandlerInterceptor &#123;
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object o) throws Exception &#123;
        System.out.println(&quot;======1=====&quot;);
        return true;//è¿”å›true æ”¾è¡Œ  è¿”å›falseé˜»æ­¢
    &#125;

    @Override
    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object o, ModelAndView modelAndView) throws Exception &#123;
        System.out.println(&quot;=====2=====&quot;);
    &#125;

    @Override
    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object o, Exception e) throws Exception &#123;
        System.out.println(&quot;=====3=====&quot;);
    &#125;
&#125;
</code></pre>
<pre><code> **é…ç½®æ‹¦æˆªå™¨**
</code></pre>
<pre><code class="java">@Configuration
public class WebMvcConfig  implements WebMvcConfigurer &#123;
    @Override
    public void addInterceptors(InterceptorRegistry registry) &#123;
          registry.addInterceptor(&quot;æ‹¦æˆªå™¨&quot;)
                .addPathPatterns(&quot;æ‹¦æˆªè·¯å¾„&quot;)
                .excludePathPatterns(&quot;æ’é™¤è·¯å¾„&quot;)
                      .order(&quot;æŒ‡å®šæ‰§è¡Œé¡ºåº&quot;)
    &#125;
&#125;
</code></pre>
<p><strong><code>æ³¨æ„:orderç”¨æ¥æ‰§è¡Œå¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº,orderä¹¦å†™æ˜¯è‡ªç„¶æ•°,æŒ‰ç…§è‡ªç„¶æ•°é¡ºåºæ‰§è¡Œ</code></strong></p>
<hr>
<h2><span id="waråŒ…éƒ¨ç½²">waråŒ…éƒ¨ç½²</span></h2><pre><code> **è®¾ç½®æ‰“åŒ…æ–¹å¼ä¸ºwar**
</code></pre>
<blockquote>
<p>â€‹    <strong><packaging>war</packaging></strong></p>
</blockquote>
<pre><code> **åœ¨æ’ä»¶ä¸­æŒ‡å®šå…¥å£ç±»**
</code></pre>
<pre><code class="xml">&lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
        &lt;!--ä½¿ç”¨çƒ­éƒ¨ç½²å‡ºç°ä¸­æ–‡ä¹±ç è§£å†³æ–¹æ¡ˆ--&gt;
        &lt;configuration&gt;
          &lt;fork&gt;true&lt;/fork&gt;
          &lt;!--å¢åŠ jvmå‚æ•°--&gt;
          &lt;jvmArguments&gt;-Dfile.encoding=UTF-8&lt;/jvmArguments&gt;
          &lt;!--æŒ‡å®šå…¥å£ç±»--&gt;
          &lt;mainClass&gt;com.baizhi.Application&lt;/mainClass&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;      
</code></pre>
<pre><code> **æ’é™¤å†…åµŒçš„tomcat**
</code></pre>
<pre><code class="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
  &lt;scope&gt;provided&lt;/scope&gt;   &lt;!--å»æ‰å†…åµŒtomcat--&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;
  &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;
  &lt;scope&gt;provided&lt;/scope&gt;  &lt;!--å»æ‰ä½¿ç”¨å†…åµŒtomcatè§£æjsp--&gt;
&lt;/dependency&gt;
</code></pre>
<pre><code> **é…ç½®å…¥å£ç±»**
</code></pre>
<pre><code class="java">//1.ç»§æ‰¿SpringBootServletInitializer
//2.è¦†ç›–configureæ–¹æ³•
public class Application extends SpringBootServletInitializer&#123;
    public static void main(String[] args) &#123;
        SpringApplication.run(Application.class,args);
    &#125;
    @Override
    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) &#123;
        return builder.sources(Application.class);
    &#125;
&#125;
</code></pre>
<pre><code> **æ‰“åŒ…æµ‹è¯•**
</code></pre>
<pre><code class="markdown"># ä¸€æ—¦ä½¿ç”¨waråŒ…éƒ¨ç½²æ³¨æ„:
-    1. application.yml ä¸­é…ç½®port context-path å¤±æ•ˆ
-    2. è®¿é—®æ—¶ä½¿ç”¨æ‰“æˆwaråŒ…çš„åå­—å’Œå¤–éƒ¨tomcatç«¯å£å·è¿›è¡Œè®¿é—®é¡¹ç›®
</code></pre>
<h2><span id="jaråŒ…éƒ¨ç½²">JaråŒ…éƒ¨ç½²</span></h2><pre><code> **è®¾ç½®æ‰“åŒ…æ–¹å¼ä¸ºjar**
</code></pre>
<blockquote>
<p>â€‹    <strong><packaging>jar</packaging></strong></p>
</blockquote>
<p><strong><code>æ³¨æ„:é»˜è®¤æ–¹å¼ä¹Ÿæ˜¯jar</code></strong></p>
<p> <strong>æ‰§è¡Œæ‰“åŒ…</strong></p>
<p> <strong>æµ‹è¯•è®¿é—®</strong></p>
<ul>
<li><strong><code>æ³¨æ„:springbootéƒ¨ç½²jspæ—¶,æ’ä»¶ç‰ˆæœ¬å¿…é¡»æŒ‡å®šä¸º1.4.2ç‰ˆæœ¬,å¹¶è¿›è¡Œjspæ‰“åŒ…é…ç½®æ‰å¯ä»¥,å…¶ä»–ç‰ˆæœ¬å‡ä¸æ”¯æŒ!!!</code></strong></li>
</ul>
<p> <strong>ä¿®æ”¹æ’ä»¶ç‰ˆæœ¬</strong></p>
<blockquote>
<p>åœ¨é¡¹ç›®çš„pom.xmlé…ç½®æ–‡ä»¶ä¸­buildæ ‡ç­¾ä¸­ä¿®æ”¹</p>
</blockquote>
<pre><code class="xml">&lt;plugins&gt;
  &lt;!--ç‰ˆæœ¬å¿…é¡»ä¸º1.4.2ç‰ˆæœ¬--&gt;
  &lt;plugin&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre>
<p> <strong>æŒ‡å®šjspæ‰“åŒ…é…ç½®</strong></p>
<blockquote>
<p>åœ¨é¡¹ç›®çš„pom.xmlé…ç½®æ–‡ä»¶ä¸­buildæ ‡ç­¾ä¸­åŠ å…¥é…ç½®</p>
</blockquote>
<pre><code class="xml">&lt;resources&gt;
  &lt;!-- æ‰“åŒ…æ—¶å°†jspæ–‡ä»¶æ‹·è´åˆ°META-INFç›®å½•ä¸‹--&gt;
  &lt;resource&gt;
    &lt;!-- æŒ‡å®šresourcesæ’ä»¶å¤„ç†å“ªä¸ªç›®å½•ä¸‹çš„èµ„æºæ–‡ä»¶ --&gt;
    &lt;directory&gt;src/main/webapp&lt;/directory&gt;
    &lt;!--æŒ‡å®šå¿…é¡»è¦æ”¾åœ¨æ­¤ç›®å½•ä¸‹æ‰èƒ½è¢«è®¿é—®åˆ°--&gt;
    &lt;targetPath&gt;META-INF/resources&lt;/targetPath&gt;
    &lt;includes&gt;
      &lt;include&gt;**/**&lt;/include&gt;
    &lt;/includes&gt;
  &lt;/resource&gt;
  &lt;resource&gt;
    &lt;directory&gt;src/main/resources&lt;/directory&gt;
    &lt;includes&gt;
      &lt;include&gt;**/**&lt;/include&gt;
    &lt;/includes&gt;
    &lt;filtering&gt;false&lt;/filtering&gt;
  &lt;/resource&gt;
&lt;/resources&gt;
</code></pre>
<p> <strong>é‡æ–°æ‰“åŒ…æµ‹è¯•å³å¯</strong></p>
<hr>
<h2><span id="thymeleaf">Thymeleaf</span></h2><blockquote>
<p>Thymeleafæ˜¯ä¸€ä¸ªç”¨äºwebå’Œç‹¬ç«‹ç¯å¢ƒçš„ç°ä»£æœåŠ¡å™¨ç«¯Javaæ¨¡æ¿å¼•æ“ã€‚</p>
<p>â€“æ‘˜è‡ªå®˜ç½‘<a target="_blank" rel="noopener" href="https://www.thymeleaf.org/">https://www.thymeleaf.org/</a></p>
</blockquote>
<p><code>Thymeleaf</code>æ˜¯è·ŸVelocityã€FreeMarkerç±»ä¼¼çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒå¯ä»¥å®Œå…¨æ›¿ä»£JSPï¼Œç›¸è¾ƒä¸å…¶ä»–çš„æ¨¡æ¿å¼•æ“ç›¸æ¯”, Thymeleafåœ¨æœ‰ç½‘ç»œå’Œæ— ç½‘ç»œçš„ç¯å¢ƒä¸‹çš†å¯è¿è¡Œï¼Œå³å®ƒå¯ä»¥è®©ç¾å·¥åœ¨æµè§ˆå™¨æŸ¥çœ‹é¡µé¢çš„é™æ€æ•ˆæœï¼Œä¹Ÿå¯ä»¥è®©ç¨‹åºå‘˜åœ¨æœåŠ¡å™¨æŸ¥çœ‹å¸¦æ•°æ®çš„åŠ¨æ€é¡µé¢æ•ˆæœã€‚</p>
<p> <strong>é›†æˆThymeleafæ¨¡æ¿</strong></p>
<p> å¼•å…¥ä¾èµ–</p>
<pre><code class="xml">&lt;!--ä½¿ç”¨thymelaf--&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p> ç¼–å†™é…ç½®</p>
<pre><code class="yml">spring:
  thymeleaf:
    cache: false  # å…³é—­ç¼“å­˜
    prefix: classpath:/templates/ #æŒ‡å®šæ¨¡æ¿ä½ç½®
    suffix: .html #æŒ‡å®šåç¼€
</code></pre>
<p> ç¼–å†™æ§åˆ¶å™¨æµ‹è¯•</p>
<pre><code class="java">
@Controller    //ä¸€å®šè¦æ˜¯@Controller ä¸èƒ½å†ä½¿ç”¨@RestControlleræ³¨è§£
@RequestMapping(&quot;hello&quot;)
public class HelloController &#123;
    @GetMapping(&quot;hello&quot;)
    public String hello()&#123;
        System.out.println(&quot;æµ‹è¯•ä¸ thymeleaf çš„é›†æˆ&quot;);
        return &quot;index&quot;;
    &#125;
&#125;
</code></pre>
<p> åœ¨templatesç›®å½•ä¸­å®šä¹‰æ¨¡æ¿</p>
<p> æµ‹è¯•è®¿é—®</p>
<pre><code>http://localhost:8989/springboot_day3/hello/hello
</code></pre>
<p> æŸ¥çœ‹ç»“æœ</p>
<hr>
<p> <strong>æ¨¡æ¿åŸºæœ¬è¯­æ³•</strong></p>
<pre><code class="html">ä½¿ç”¨æ—¶å¿…é¡»åœ¨é¡µé¢ä¸­åŠ å…¥thymeleafå¦‚ä¸‹å‘½åç©ºé—´:
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
</code></pre>
<p> <strong>å±•ç¤ºå•ä¸ªæ•°æ®</strong></p>
<p> è®¾ç½®æ•°æ®</p>
<pre><code class="java">model.addAttribute(&quot;name&quot;,&quot;å¼ ä¸‰&quot;); æˆ– request.setAttribute(&quot;name&quot;,&quot;å°é»‘&quot;);
</code></pre>
<p> è·å–æ•°æ®</p>
<pre><code class="html">&lt;span th:text=&quot;$&#123;name&#125;&quot;/&gt;  ---&gt;è·å–æ•°æ®
</code></pre>
<p> è§£æå«æœ‰htmlæ ‡ç­¾æ•°æ®</p>
<pre><code class="java">model.addAttribute(&quot;name&quot;,&quot;&lt;a href=&#39;&#39;&gt;å¼ ä¸‰&lt;/a&gt;&quot;);
model.addAttribute(&quot;username&quot;,&quot;å°é™ˆ&quot;);
</code></pre>
<ul>
<li>ç›´æ¥è·å–åŸæ ·è¾“å‡º</li>
</ul>
<pre><code class="html">&lt;span th:text=&quot;$&#123;name&#125;&quot;/&gt;
</code></pre>
<ul>
<li>è·å–å¹¶è§£æ</li>
</ul>
<pre><code class="html"> &lt;span th:utext=&quot;$&#123;name&#125;&quot;/&gt;
</code></pre>
<ul>
<li><p>å°†æ•°æ®èµ‹å€¼ç»™è¡¨å•å…ƒç´ </p>
<pre><code class="html">&lt;input type=&quot;text&quot; th:value=&quot;$&#123;username&#125;&quot;/&gt;
</code></pre>
</li>
</ul>
<pre><code class="markdown"># æ€»ç»“
-  1.ä½¿ç”¨ th:text=&quot;$&#123;å±æ€§å&#125;&quot;  è·å–å¯¹åº”æ•°æ®,è·å–æ•°æ®æ—¶ä¼šå°†å¯¹åº”æ ‡ç­¾ä¸­æ•°æ®æ¸…ç©º,å› æ­¤æœ€å¥½æ˜¯ç©ºæ ‡ç­¾
-  2.ä½¿ç”¨ th:utext=&quot;$&#123;å±æ€§å&#125;&quot; è·å–å¯¹åº”çš„æ•°æ®,å¯ä»¥å°†æ•°æ®ä¸­htmlå…ˆè§£æåœ¨æ¸²æŸ“åˆ°é¡µé¢
-  3.ä½¿ç”¨ th:value=&quot;$&#123;å±æ€§å&#125;&quot; è·å–æ•°æ®ç›´æ¥ä½œä¸ºè¡¨å•å…ƒç´ valueå±æ€§
</code></pre>
<p> <strong>å±•ç¤ºå¯¹è±¡æ•°æ®</strong></p>
<pre><code class="html">model.addAttribute(&quot;user&quot;,new User(&quot;21&quot;,&quot;xiaochen&quot;,23,new Date()));
id:&lt;span th:text=&quot;$&#123;user.id&#125;&quot;&gt;&lt;/span&gt;
name:&lt;span th:text=&quot;$&#123;user.name&#125;&quot;&gt;&lt;/span&gt;
age:&lt;span th:text=&quot;$&#123;user.age&#125;&quot;&gt;&lt;/span&gt;
bir: &lt;span th:text=&quot;$&#123;user.bir&#125;&quot;&gt;&lt;/span&gt;  ====  &lt;span th:text=&quot;$&#123;#dates.format(user.bir, &#39;yyyy-MM-dd HH:mm&#39;)&#125;&quot;&gt;&lt;/span&gt; æ—¥æœŸæ ¼å¼åŒ–
</code></pre>
<p> <strong>æ¡ä»¶å±•ç¤ºæ•°æ®</strong></p>
<pre><code class="html">model.addAttribute(&quot;user&quot;,new User(&quot;21&quot;,&quot;xiaochen&quot;,23,new Date()));
&lt;span th:if=&quot;$&#123;user.age&#125; eq 23&quot;&gt;
  é’å¹´
&lt;/span&gt;
&lt;span th:if=&quot;$&#123;user.age == 23&#125;&quot;&gt;
  é’å¹´
&lt;/span&gt;
# è¿ç®—ç¬¦
    gtï¼šgreat thanï¼ˆå¤§äºï¼‰&gt;
    geï¼šgreat equalï¼ˆå¤§äºç­‰äºï¼‰&gt;=
    eqï¼šequalï¼ˆç­‰äºï¼‰==
    ltï¼šless thanï¼ˆå°äºï¼‰&lt;
    leï¼šless equalï¼ˆå°äºç­‰äºï¼‰&lt;=
    neï¼šnot equalï¼ˆä¸ç­‰äºï¼‰!=
</code></pre>
<p> <strong>å±•ç¤ºå¤šæ¡æ•°æ®</strong></p>
<ul>
<li>ç›´æ¥éå†é›†åˆ</li>
</ul>
<pre><code class="html">
 &lt;ul th:each=&quot;user:$&#123;users&#125;&quot;&gt;
   &lt;li th:text=&quot;$&#123;user.id&#125;&quot;&gt;&lt;/li&gt;
   &lt;li th:text=&quot;$&#123;user.name&#125;&quot;&gt;&lt;/li&gt;
   &lt;li th:text=&quot;$&#123;user.age&#125;&quot;&gt;&lt;/li&gt;
   &lt;li th:text=&quot;$&#123;#dates.format(user.bir,&#39;yyyy-MM-dd&#39;)&#125;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<ul>
<li>éå†æ—¶è·å–éå†çŠ¶æ€</li>
</ul>
<pre><code class="html"> &lt;ul th:each=&quot;user,userStat:$&#123;users&#125;&quot;&gt;
   &lt;li&gt;&lt;span th:text=&quot;$&#123;userStat.count&#125;&quot;/&gt;-&lt;span th:text=&quot;$&#123;user.id&#125;&quot;/&gt;&lt;/li&gt;   è·å–éå†æ¬¡æ•°  count ä»1å¼€å§‹ index ä»0å¼€å§‹
   &lt;li&gt;&lt;span th:text=&quot;$&#123;userStat.odd&#125;&quot;/&gt;-&lt;span th:text=&quot;$&#123;user.name&#125;&quot;/&gt;&lt;/li&gt;   è·å–å½“å‰éå†æ˜¯å¦æ˜¯å¥‡æ•°è¡Œ
   &lt;li&gt;&lt;span th:text=&quot;$&#123;userStat.even&#125;&quot;/&gt;-&lt;span th:text=&quot;$&#123;user.age&#125;&quot;/&gt;&lt;/li&gt;   è·å–å½“å‰éå†æ˜¯å¦æ˜¯å¶æ•°è¡Œ
   &lt;li&gt;&lt;span th:text=&quot;$&#123;userStat.size&#125;&quot;/&gt;-&lt;span th:text=&quot;$&#123;user.bir&#125;&quot;/&gt;&lt;/li&gt;   è·å–å½“å‰é›†åˆçš„æ€»æ¡æ•°
&lt;/ul&gt;
</code></pre>
<p> <strong>å¼•å…¥é™æ€èµ„æº</strong></p>
<pre><code class="markdown"># ä½¿ç”¨thymeleafæ¨¡æ¿é¡¹ç›®ä¸­é™æ€èµ„æºé»˜è®¤æ”¾åœ¨resourcesè·¯å¾„å°staticç›®å½•ä¸­
</code></pre>
<ul>
<li><p>é¡¹ç›®ä¸­æ”¾å…¥å¯¹åº”é™æ€èµ„æº</p>
</li>
<li><p>é¡µé¢ä¸­å¼•å…¥</p>
<pre><code class="html"> &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@&#123;/css/index.css&#125;&quot;&gt;
 &lt;script th:src=&quot;@&#123;/js/jquery-min.js&#125;&quot;&gt;&lt;/script&gt;
</code></pre>
<p><strong>æ³¨æ„: @{/}ä»£è¡¨é€šè¿‡thymeleafè¯­æ³•åŠ¨æ€è·å–åº”ç”¨å</strong></p>
</li>
</ul>
<p> <strong>åœ¨jsä»£ç ä¸­è·å–é¡¹ç›®å</strong></p>
<pre><code class="js">&lt;script&gt;
  const ctx = &#39;[[@&#123;/&#125;]]&#39;;
&lt;/script&gt;
</code></pre>
<p><strong>æ³¨æ„:[[ä¹¦å†™thymeleafè¯­æ³•]],è¿™é‡Œ[[]]æ˜¯thymeleafå†…åµŒè¡¨è¾¾å¼</strong></p>
<hr>
<h2><span id="restful">RestFul</span></h2><p> <strong>å¼•è¨€</strong></p>
<p>RESTå…¨ç§°æ˜¯<code>Representational State Transfer</code>ï¼Œä¸­æ–‡æ„æ€æ˜¯è¡¨è¿°ï¼ˆç¼–è€…æ³¨ï¼šé€šå¸¸è¯‘ä¸ºè¡¨å¾ï¼‰æ€§çŠ¶æ€è½¬ç§»ã€‚ å®ƒé¦–æ¬¡å‡ºç°åœ¨2000å¹´Roy Fieldingçš„åšå£«è®ºæ–‡ä¸­ï¼ŒRoy Fieldingæ˜¯HTTPè§„èŒƒçš„ä¸»è¦ç¼–å†™è€…ä¹‹ä¸€ã€‚ ä»–åœ¨è®ºæ–‡ä¸­æåˆ°ï¼šâ€æˆ‘è¿™ç¯‡æ–‡ç« çš„å†™ä½œç›®çš„ï¼Œå°±æ˜¯æƒ³åœ¨ç¬¦åˆæ¶æ„åŸç†çš„å‰æä¸‹ï¼Œç†è§£å’Œè¯„ä¼°ä»¥ç½‘ç»œä¸ºåŸºç¡€çš„åº”ç”¨è½¯ä»¶çš„æ¶æ„è®¾è®¡ï¼Œå¾—åˆ°ä¸€ä¸ªåŠŸèƒ½å¼ºã€æ€§èƒ½å¥½ã€é€‚å®œé€šä¿¡çš„æ¶æ„ã€‚RESTæŒ‡çš„æ˜¯ä¸€ç»„æ¶æ„çº¦æŸæ¡ä»¶å’ŒåŸåˆ™ã€‚â€ å¦‚æœä¸€ä¸ªæ¶æ„ç¬¦åˆRESTçš„çº¦æŸæ¡ä»¶å’ŒåŸåˆ™ï¼Œæˆ‘ä»¬å°±ç§°å®ƒä¸ºRESTfulæ¶æ„ã€‚</p>
<p>RestFul: æ˜¯ä¸€ç§ä»¥ç½‘ç»œä¸ºåŸºç¡€æ„æ¶ä¸€ç§æ¶æ„é£æ ¼  ä¸€ä¸ªæ¶æ„ç¬¦åˆRestè®¾è®¡åŸåˆ™å’Œçº¦æŸæˆè¿™ä¸ªæ¶æ„ä¸ºRestFulã€‚</p>
<p>Rest è¯ï¼š æ›´æ–°æŠ€æœ¯  ç»„ä»¶ æœåŠ¡  è®©æˆ‘ä»¬webè¯·æ±‚èƒ½å¤Ÿåˆ©ç”¨webä¸­æ ‡å‡† å’Œ èƒ½åŠ› æ›´å¥½æè¿°æ¶æ„</p>
<p>RESTæœ¬èº«å¹¶æ²¡æœ‰åˆ›é€ æ–°çš„æŠ€æœ¯ã€ç»„ä»¶æˆ–æœåŠ¡ï¼Œè€Œéšè—åœ¨RESTfulèƒŒåçš„ç†å¿µå°±æ˜¯ä½¿ç”¨Webçš„ç°æœ‰ç‰¹å¾å’Œèƒ½åŠ›ï¼Œ æ›´å¥½åœ°ä½¿ç”¨ç°æœ‰Webæ ‡å‡†ä¸­çš„ä¸€äº›å‡†åˆ™å’Œçº¦æŸã€‚è™½ç„¶RESTæœ¬èº«å—WebæŠ€æœ¯çš„å½±å“å¾ˆæ·±ï¼Œ ä½†æ˜¯ç†è®ºä¸ŠRESTæ¶æ„é£æ ¼å¹¶ä¸æ˜¯ç»‘å®šåœ¨HTTPä¸Šï¼Œåªä¸è¿‡ç›®å‰HTTPæ˜¯å”¯ä¸€ä¸RESTç›¸å…³çš„å®ä¾‹ã€‚ æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæè¿°çš„RESTä¹Ÿæ˜¯é€šè¿‡HTTPå®ç°çš„RESTã€‚</p>
<p> <strong>æ€»ç»“</strong></p>
<blockquote>
<p> Restful ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ã€è®¾è®¡é£æ ¼ï¼Œè€Œ<strong>ä¸æ˜¯</strong>æ ‡å‡†ï¼Œåªæ˜¯æä¾›äº†ä¸€ç»„è®¾è®¡åŸåˆ™å’Œçº¦æŸæ¡ä»¶ã€‚å®ƒä¸»è¦ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤äº’ç±»çš„è½¯ä»¶ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶ã€‚</p>
</blockquote>
<p>webå¼€å‘: å®ç°æ‰€æœ‰åŠŸèƒ½</p>
<p>restful: è½¯ä»¶è®¾è®¡é£æ ¼ æ ‡å‡†  ç®€æ´   å±‚æ¬¡  ä¼˜é›…</p>
<p>restè®¾è®¡åŸåˆ™ å’Œ çº¦æŸæ¶æ„ç§°ä¹‹ä¸ºrestFul</p>
<p> <strong>URLå®šä¹‰</strong></p>
<ul>
<li>èµ„æºï¼šäº’è”ç½‘æ‰€æœ‰çš„äº‹ç‰©éƒ½å¯ä»¥è¢«æŠ½è±¡ä¸ºèµ„æº <ul>
<li>ä¸€é¦–æ­Œ  ä¸€å¼ å›¾ç‰‡ æ•°æ®åº“ä¸€æ¡è®°å½•  </li>
</ul>
</li>
<li>èµ„æºæ“ä½œï¼šä½¿ç”¨POST(æ·»åŠ )ã€DELETE(åˆ é™¤)ã€PUT(ä¿®æ”¹)ã€GET(æŸ¥è¯¢)ï¼Œä½¿ç”¨ä¸åŒè¯·æ±‚æ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œã€‚ <ul>
<li>åˆ é™¤ delete</li>
<li>æŸ¥è¯¢ get</li>
<li>æ·»åŠ  post</li>
<li>ä¿®æ”¹ put (ä¿®æ”¹å…¨éƒ¨å­—æ®µ)| patch(æ›´æ–°éƒ¨åˆ†å­—æ®µ)</li>
</ul>
</li>
</ul>
<p> ä¼ ç»Ÿæ–¹å¼æ“ä½œèµ„æº</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="http://127.0.0.1/item/queryUser.action?id=1">http://127.0.0.1/item/queryUser.action?id=1</a>   æŸ¥è¯¢,GET </p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://127.0.0.1/item/saveUser.action">http://127.0.0.1/item/saveUser.action</a>             æ–°å¢,POST </p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://127.0.0.1/item/updateUser.action">http://127.0.0.1/item/updateUser.action</a>          æ›´æ–°,PUT</p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://127.0.0.1/item/deleteUser.action?id=1">http://127.0.0.1/item/deleteUser.action?id=1</a>  åˆ é™¤,DELETE</p>
<p>**æ³¨æ„:**ä¼ ç»Ÿçš„æ“ä½œæ˜¯æ²¡æœ‰é—®é¢˜çš„,å¤§ç¥è®¤ä¸ºæ˜¯æœ‰é—®é¢˜çš„,æœ‰ä»€ä¹ˆé—®é¢˜å‘¢?ä½ æ¯æ¬¡è¯·æ±‚çš„æ¥å£æˆ–è€…åœ°å€,éƒ½åœ¨åšæè¿°,ä¾‹å¦‚æŸ¥è¯¢çš„æ—¶å€™ç”¨äº†queryUser,æ–°å¢çš„æ—¶å€™ç”¨äº†saveUser ï¼Œä¿®æ”¹çš„æ—¶å€™ç”¨äº†updateUser,å…¶å®å®Œå…¨æ²¡æœ‰è¿™ä¸ªå¿…è¦,æˆ‘ä½¿ç”¨äº†getè¯·æ±‚,å°±æ˜¯æŸ¥è¯¢.ä½¿ç”¨postè¯·æ±‚,å°±æ˜¯æ–°å¢çš„è¯·æ±‚,PUTå°±æ˜¯ä¿®æ”¹ï¼Œdeleteå°±æ˜¯åˆ é™¤ï¼Œæˆ‘çš„æ„å›¾å¾ˆæ˜æ˜¾,å®Œå…¨æ²¡æœ‰å¿…è¦åšæè¿°,è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ‰äº†restful.</p>
</li>
</ul>
<p> ä½¿ç”¨RESTfulæ“ä½œèµ„æº </p>
<ul>
<li><p>ã€GETã€‘ /users # æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯åˆ—è¡¨</p>
</li>
<li><p>ã€GETã€‘ /users/1001 # æŸ¥çœ‹æŸä¸ªç”¨æˆ·ä¿¡æ¯</p>
</li>
</ul>
<ul>
<li>ã€POSTã€‘ /users # æ–°å»ºç”¨æˆ·ä¿¡æ¯</li>
</ul>
<ul>
<li>ã€PUTã€‘ /users/1001 # æ›´æ–°ç”¨æˆ·ä¿¡æ¯(å…¨éƒ¨å­—æ®µ)</li>
</ul>
<ul>
<li>ã€PATCHã€‘ /users/1001 # æ›´æ–°ç”¨æˆ·ä¿¡æ¯(éƒ¨åˆ†å­—æ®µ)</li>
</ul>
<ul>
<li>ã€DELETEã€‘ /users/1001 # åˆ é™¤ç”¨æˆ·ä¿¡æ¯</li>
</ul>
<p> <strong>Rest</strong> APIè®¾è®¡é£æ ¼åŸåˆ™</p>
<pre><code class="markdown"># 1.ä½¿ç”¨åè¯è€Œä¸æ˜¯åŠ¨è¯
- ä¸è¦ä½¿ç”¨ï¼š
    å¦‚:
    /getAllUsers    get   /users  get /users/002
    /createNewUser  post  /users
    /deleteAllUser  delete /users/001

# 2.Getæ–¹æ³•å’ŒæŸ¥è¯¢å‚æ•°ä¸åº”è¯¥æ¶‰åŠçŠ¶æ€æ”¹å˜
- ä½¿ç”¨PUT, POSTÂ å’ŒDELETEÂ æ–¹æ³•Â è€Œä¸æ˜¯Â GETÂ æ–¹æ³•æ¥æ”¹å˜çŠ¶æ€ï¼Œä¸è¦ä½¿ç”¨GETÂ è¿›è¡ŒçŠ¶æ€æ”¹å˜


# 3.ä½¿ç”¨å¤æ•°åè¯
- ä¸è¦æ··æ·†åè¯å•æ•°å’Œå¤æ•°ï¼Œä¸ºäº†ä¿æŒç®€å•ï¼Œåªå¯¹æ‰€æœ‰èµ„æºä½¿ç”¨å¤æ•°ã€‚
    å¦‚:
    /cars è€Œä¸æ˜¯ /car
    /users è€Œä¸æ˜¯ /user
    /products è€Œä¸æ˜¯ /product
    /settings è€Œä¸æ˜¯ /setting
    /orders   è€Œä¸æ˜¯ /order
        
# 4. ä½¿ç”¨å­èµ„æºè¡¨è¾¾å…³ç³»
- å¦‚æœä¸€ä¸ªèµ„æºä¸å¦å¤–ä¸€ä¸ªèµ„æºæœ‰å…³ç³»ï¼Œä½¿ç”¨å­èµ„æºï¼š
    å¦‚:
    GET /cars/711/drivers/ è¿”å› car 711çš„æ‰€æœ‰å¸æœº
    GET /cars/711/drivers/4 è¿”å› car 711çš„4å·å¸æœº
    GET /users/11/pets      è¿”å› user 11çš„æ‰€æœ‰å® ç‰©
    GET /users/11/pets/2    è¿”å› user 11çš„2å·å® ç‰©

# 5.ä½¿ç”¨Httpå¤´å£°æ˜åºåˆ—åŒ–æ ¼å¼
- åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼ŒåŒæ–¹éƒ½è¦çŸ¥é“é€šè®¯çš„æ ¼å¼ï¼Œæ ¼å¼åœ¨HTTP-Headerä¸­æŒ‡å®š
    å¦‚:
    Content-Type å®šä¹‰è¯·æ±‚æ ¼å¼
    Accept å®šä¹‰ç³»åˆ—å¯æ¥å—çš„å“åº”æ ¼å¼

# 6.ä¸ºé›†åˆæä¾›è¿‡æ»¤ æ’åº é€‰æ‹©å’Œåˆ†é¡µç­‰åŠŸèƒ½
- Filteringè¿‡æ»¤:ä½¿ç”¨å”¯ä¸€çš„æŸ¥è¯¢å‚æ•°è¿›è¡Œ
    GET /cars?color=red è¿”å›çº¢è‰²çš„cars
    GET /cars?seats&lt;=2 è¿”å›å°äºä¸¤åº§ä½çš„carsé›†åˆ

- Sortingæ’åº:å…è®¸é’ˆå¯¹å¤šä¸ªå­—æ®µæ’åº
    GET /cars?sort=-manufactorer,+model
    è¿™æ˜¯è¿”å›æ ¹æ®ç”Ÿäº§è€…é™åºå’Œæ¨¡å‹å‡åºæ’åˆ—çš„caré›†åˆ

- Field selection
    ç§»åŠ¨ç«¯èƒ½å¤Ÿæ˜¾ç¤ºå…¶ä¸­ä¸€äº›å­—æ®µï¼Œå®ƒä»¬å…¶å®ä¸éœ€è¦ä¸€ä¸ªèµ„æºçš„æ‰€æœ‰å­—æ®µï¼Œç»™APIæ¶ˆè´¹è€…ä¸€ä¸ªé€‰æ‹©å­—æ®µçš„èƒ½åŠ›ï¼Œè¿™ä¼šé™ä½ç½‘ç»œæµé‡ï¼Œæé«˜APIå¯ç”¨æ€§ã€‚
    GET /cars?fields=manufacturer,model,id,color
    
- Pagingåˆ†é¡µ
    ä½¿ç”¨ limit å’Œoffset.å®ç°åˆ†é¡µï¼Œç¼ºçœlimit=20 å’Œoffset=0ï¼›
    GET /cars?offset=10&amp;limit=5
    ä¸ºäº†å°†æ€»æ•°å‘ç»™å®¢æˆ·ç«¯ï¼Œä½¿ç”¨è®¢åˆ¶çš„HTTPå¤´ï¼š X-Total-Count.
    é“¾æ¥åˆ°ä¸‹ä¸€é¡µæˆ–ä¸Šä¸€é¡µå¯ä»¥åœ¨HTTPå¤´çš„linkè§„å®šï¼Œéµå¾ªLinkè§„å®š:
    Link: &lt;https://blog.mwaysolutions.com/sample/api/v1/cars?offset=15&amp;limit=5&gt;; rel=&quot;next&quot;,&lt;https://blog.mwaysolutions.com/sample/api/v1/cars?offset=50&amp;limit=3&gt;; rel=&quot;last&quot;,&lt;https://blog.mwaysolutions.com/sample/api/v1/cars?offset=0&amp;limit=5&gt;; rel=&quot;first&quot;,&lt;https://blog.mwaysolutions.com/sample/api/v1/cars?offset=5&amp;limit=5&gt;; rel=&quot;prev&quot;,
    

# 7.ç‰ˆæœ¬åŒ–ä½ çš„API  æ”¯ä»˜å®  v1  v2   v3
- ä½¿å¾—APIç‰ˆæœ¬å˜å¾—å¼ºåˆ¶æ€§ï¼Œä¸è¦å‘å¸ƒæ— ç‰ˆæœ¬çš„APIï¼Œä½¿ç”¨ç®€å•æ•°å­—ï¼Œé¿å…å°æ•°ç‚¹å¦‚2.5.
    ä¸€èˆ¬åœ¨Urlåé¢ä½¿ç”¨?v
    /blog/api/v1

# 8. ä½¿ç”¨HttpçŠ¶æ€ç å¤„ç†é”™è¯¯
- å¦‚æœä½ çš„APIæ²¡æœ‰é”™è¯¯å¤„ç†æ˜¯å¾ˆéš¾çš„ï¼Œåªæ˜¯è¿”å›500å’Œå‡ºé”™å †æ ˆä¸ä¸€å®šæœ‰ç”¨
- HttpçŠ¶æ€ç æä¾›70ä¸ªå‡ºé”™ï¼Œæˆ‘ä»¬åªè¦ä½¿ç”¨10ä¸ªå·¦å³ï¼š
     `200 â€“ OK â€“ ä¸€åˆ‡æ­£å¸¸
  `201 â€“ OK â€“ æ–°çš„èµ„æºå·²ç»æˆåŠŸåˆ›å»º
  `204 â€“ OK â€“ èµ„æºå·²ç»æˆåŠŸåˆ é™¤
  `304 â€“ Not Modified â€“ å®¢æˆ·ç«¯ä½¿ç”¨ç¼“å­˜æ•°æ®
  `400 â€“ Bad Request â€“ è¯·æ±‚æ— æ•ˆï¼Œéœ€è¦é™„åŠ ç»†èŠ‚è§£é‡Šå¦‚ &quot;JSONæ— æ•ˆ&quot;
  `401 â€“ Unauthorized â€“ è¯·æ±‚éœ€è¦ç”¨æˆ·éªŒè¯
  `403 â€“ Forbidden â€“ æœåŠ¡å™¨å·²ç»ç†è§£äº†è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æœåŠ¡æˆ–è¿™ç§è¯·æ±‚çš„è®¿é—®æ˜¯ä¸å…è®¸çš„ã€‚
  `404 â€“ Not found â€“ æ²¡æœ‰å‘ç°è¯¥èµ„æº
  `422 â€“ Unprocessable Entity â€“ åªæœ‰æœåŠ¡å™¨ä¸èƒ½å¤„ç†å®ä½“æ—¶ä½¿ç”¨ï¼Œæ¯”å¦‚å›¾åƒä¸èƒ½è¢«æ ¼å¼åŒ–ï¼Œæˆ–è€…é‡è¦å­—æ®µä¸¢å¤±ã€‚
  `500 â€“ Internal Server Error â€“ APIå¼€å‘è€…åº”è¯¥é¿å…è¿™ç§é”™è¯¯ã€‚
ä½¿ç”¨è¯¦ç»†çš„é”™è¯¯åŒ…è£…é”™è¯¯ï¼š  çŠ¶æ€ç     æ•°æ®  headerå¤´ä¿¡æ¯
&#123;
Â  &quot;errors&quot;: [
Â Â  &#123;
Â Â Â  &quot;userMessage&quot;: &quot;Sorry, the requested resource does not exist&quot;,
Â Â Â  &quot;internalMessage&quot;: &quot;No car found in the database&quot;,
Â Â Â  &quot;code&quot;: 34,
Â Â Â  &quot;more info&quot;: &quot;http://dev.mwaysolutions.com/blog/api/v1/errors/12345&quot;
Â Â  &#125;
Â  ]
&#125;
</code></pre>
<p> <strong>Rest</strong> APIæ¡ˆä¾‹</p>
<pre><code class="java">@RestController
@RequestMapping(&quot;v1/users&quot;)
public class UserController &#123;


    private UserService userService;

    @Autowired
    public UserController(UserService userService) &#123;
        this.userService = userService;
    &#125;

    /**
     * ä¿å­˜ç”¨æˆ·
     *
     * @param user
     * @return
     */
    @PostMapping
    public ResponseEntity&lt;Void&gt; saveUser(@RequestBody User user) &#123;
        try &#123;
            userService.save(user);
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return new ResponseEntity&lt;Void&gt;(HttpStatus.INTERNAL_SERVER_ERROR);
        &#125;
        return new ResponseEntity&lt;Void&gt;(HttpStatus.CREATED);
    &#125;

    /**
     * åˆ é™¤ç”¨æˆ·
     *
     * @param id
     * @return
     */
    @DeleteMapping(&quot;&#123;id&#125;&quot;)
    public ResponseEntity&lt;Void&gt; deleteUser(@PathVariable(&quot;id&quot;) Integer id) &#123;
        try &#123;
            userService.delete(id);
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return new ResponseEntity&lt;Void&gt;(HttpStatus.INTERNAL_SERVER_ERROR);
        &#125;
        return new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT);
    &#125;

    /**
     * æ›´æ–°ç”¨æˆ·
     *
     * @param user
     * @return
     */
    @PutMapping
    public ResponseEntity&lt;Void&gt; updateUser(@RequestBody User user) &#123;
        userService.update(user);
        return new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT);
    &#125;

    /**
     * ç”¨æˆ·è¯¦æƒ…
     *
     * @param id
     * @return
     */
    @GetMapping(&quot;&#123;id&#125;&quot;)
    public ResponseEntity&lt;User&gt; findUserById(@PathVariable(&quot;id&quot;) Integer id) &#123;
        User user = userService.findById(id);
        if (user == null) &#123;
            return new ResponseEntity&lt;User&gt;(HttpStatus.INTERNAL_SERVER_ERROR);
        &#125;
        return new ResponseEntity&lt;User&gt;(user, HttpStatus.OK);
    &#125;

    /**
     * ç”¨æˆ·åˆ—è¡¨
     *
     * @return
     */
    @GetMapping
    public ResponseEntity&lt;List&lt;User&gt;&gt; users() &#123;
        List&lt;User&gt; users = null;
        try &#123;
            users = userService.findAll();
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return new ResponseEntity&lt;List&lt;User&gt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);
        &#125;
        return new ResponseEntity&lt;List&lt;User&gt;&gt;(users, HttpStatus.OK);
    &#125;
&#125;
</code></pre>
<hr>
<h2><span id="å¼‚å¸¸å¤„ç†">å¼‚å¸¸å¤„ç†</span></h2><p> <strong>ä¼ ç»Ÿå¼€å‘çš„å¼‚å¸¸å¤„ç†</strong></p>
<pre><code class="java">/**
 * å…¨å±€å¼‚å¸¸å¤„ç†ä¹‹ä¼ ç»Ÿwebå¼€å‘
 */
@Component
public class GlobalExceptionHandler implements HandlerExceptionResolver &#123;
    //å‚æ•°1: å½“å‰è¯·æ±‚å¯¹è±¡
    //å‚æ•°2: å½“å‰è¯·æ±‚çš„å“åº”å¯¹è±¡
    //å‚æ•°3: å½“å‰å‡ºç°å¼‚å¸¸çš„æ§åˆ¶å™¨å¯¹è±¡
    @Override
    public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) &#123;
        //å¼‚å¸¸å¤„ç†...
        return new ModelAndView(&quot;500&quot;);
    &#125;
&#125;
</code></pre>
<p> <strong>RestFulçš„å¼‚å¸¸å¤„ç†</strong></p>
<pre><code class="java">/**
 * å…¨å±€å¼‚å¸¸å¤„ç†ä¹‹RestFul
 */
@ControllerAdvice
public class GlobalExceptionHandlerRest &#123;
    @ExceptionHandler(value = Exception.class)
    @ResponseBody
    public ResponseEntity&lt;String&gt; exceptionHandler(Exception e) &#123;
        return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);
    &#125;
&#125;
</code></pre>
<hr>
<h2><span id="cors-è·¨åŸŸ">CORS è·¨åŸŸ</span></h2><p> <strong>CORS</strong></p>
<ul>
<li><p>â€‹    <code>CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯&quot;è·¨åŸŸèµ„æºå…±äº«&quot;ï¼ˆCross-origin resource sharingï¼‰</code>ã€‚</p>
</li>
<li><p>â€‹    å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequest(ajax)è¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½<code>åŒæºä½¿ç”¨çš„é™åˆ¶</code>ã€‚</p>
</li>
</ul>
<p> <strong>åŒæºç­–ç•¥</strong></p>
<ul>
<li>â€‹    <strong><code>åŒæºç­–ç•¥</code></strong>[same origin policy]æ˜¯æµè§ˆå™¨çš„ä¸€ä¸ªå®‰å…¨åŠŸèƒ½ï¼Œä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºã€‚ åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³ã€‚</li>
</ul>
<p> <strong>æº</strong></p>
<ul>
<li>â€‹    <strong><code>æº</code></strong>[origin]å°±æ˜¯åè®®ã€åŸŸåå’Œç«¯å£å·ã€‚ä¾‹å¦‚ï¼š<a href="http://www.baidu.com:80è¿™ä¸ªURLã€‚">http://www.baidu.com:80è¿™ä¸ªURLã€‚</a></li>
</ul>
<p> <strong>åŒæº</strong></p>
<ul>
<li>â€‹    è‹¥åœ°å€é‡Œé¢çš„<code>åè®®ã€åŸŸåå’Œç«¯å£å·å‡ç›¸åŒ</code>åˆ™å±äºåŒæºã€‚</li>
</ul>
<pre><code class="markdown"># åŒæºä¸¾ä¾‹
- ä¾‹å¦‚åˆ¤æ–­ä¸‹é¢çš„URLæ˜¯å¦ä¸ http://www.a.com/test/index.html åŒæº
    http://www.a.com/dir/page.html ---------&gt;åŒæº
    http://www.child.a.com/test/index.html -&gt;ä¸åŒæºï¼ŒåŸŸåä¸ç›¸åŒ
    https://www.a.com/test/index.html ------&gt;ä¸åŒæºï¼Œåè®®ä¸ç›¸åŒ
    http://www.a.com:8080/test/index.html --&gt;ä¸åŒæºï¼Œç«¯å£å·ä¸ç›¸åŒ
</code></pre>
<p> <strong>å“ªäº›æ“ä½œä¸å—åŒæºé™åˆ¶</strong></p>
<ul>
<li><p>é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶çš„ï¼›</p>
</li>
<li><p>è·¨åŸŸèµ„æºçš„å¼•å…¥æ˜¯å¯ä»¥çš„ã€‚å¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„<code>&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;</code>ï¼Œ<code>&lt;img&gt;</code>ï¼Œ<code>&lt;link&gt;</code>ï¼Œ<code>&lt;iframe&gt;</code>ç­‰ã€‚</p>
</li>
</ul>
<p> <strong>å“ªäº›æ“ä½œå—åˆ°åŒæºé™åˆ¶</strong></p>
<ul>
<li>åœ¨æµè§ˆå™¨ä¸­å‘èµ·ä¸€ä¸ªAJAXè¯·æ±‚,ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶ã€‚</li>
<li><strong><code>å‡ºç°é”™è¯¯:Access-Control-Allow-Origin</code></strong></li>
</ul>
<p> <strong>ä½¿ç”¨CORSè§£å†³åŒæºé™åˆ¶</strong></p>
<ol>
<li> @CrossOriginæ³¨è§£</li>
</ol>
<pre><code class="java">@RestController
@RequestMapping(&quot;demos&quot;)
@CrossOrigin
public class DemoController &#123;
    @GetMapping
    public String demos() &#123;
        System.out.println(&quot;========demo=======&quot;);
        return &quot;demo ok&quot;;
    &#125;
&#125;
</code></pre>
<ol start="2">
<li> å…¨å±€è§£å†³è·¨åŸŸé—®é¢˜</li>
</ol>
<pre><code class="java">@Configuration
public class CorsConfig &#123;
    @Bean
    public CorsFilter corsFilter() &#123;
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        CorsConfiguration corsConfiguration = new CorsConfiguration();
        corsConfiguration.addAllowedOrigin(&quot;*&quot;); // 1å…è®¸ä»»ä½•åŸŸåä½¿ç”¨
        corsConfiguration.addAllowedHeader(&quot;*&quot;); // 2å…è®¸ä»»ä½•å¤´
        corsConfiguration.addAllowedMethod(&quot;*&quot;); // 3å…è®¸ä»»ä½•æ–¹æ³•ï¼ˆpostã€getç­‰ï¼‰
        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);//4å¤„ç†æ‰€æœ‰è¯·æ±‚çš„è·¨åŸŸé…ç½®
     return new CorsFilter(source);
    &#125;
&#125;
</code></pre>
<hr>
<h2><span id="jasypt-åŠ å¯†">Jasypt åŠ å¯†</span></h2><p> <strong>å¼•è¨€</strong></p>
<p> Jasypt ä¹Ÿå³Java Simplified Encryptionæ˜¯Sourceforge.netä¸Šçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚åœ¨å½“åœ°æ—¶é—´11æœˆ23å·çš„é€šå‘Šä¸­ï¼ŒJasypt 1.4çš„æ–°ç‰¹å¾åŒ…æ‹¬ï¼šåŠ å¯†å±æ€§æ–‡ä»¶ï¼ˆencryptable properties filesï¼‰ã€Spring Frameworké›†æˆã€åŠ å¯†Hibernateæ•°æ®æºé…ç½®ã€æ–°çš„å‘½ä»¤è¡Œå·¥å…·ã€URLåŠ å¯†çš„Apache wicketé›†æˆä»¥åŠå‡çº§æ–‡æ¡£ã€‚</p>
<p>æ ¹æ®Jasyptæ–‡æ¡£ï¼Œè¯¥æŠ€æœ¯å¯ç”¨äºåŠ å¯†ä»»åŠ¡ä¸åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚åŠ å¯†å¯†ç ã€æ•æ„Ÿä¿¡æ¯å’Œæ•°æ®é€šä¿¡ã€åˆ›å»ºå®Œæ•´æ£€æŸ¥æ•°æ®çš„sums. å…¶ä»–æ€§èƒ½åŒ…æ‹¬é«˜å®‰å…¨æ€§ã€åŸºäºæ ‡å‡†çš„åŠ å¯†æŠ€æœ¯ã€å¯åŒæ—¶å•å‘å’ŒåŒå‘åŠ å¯†çš„åŠ å¯†å¯†ç ã€æ–‡æœ¬ã€æ•°å­—å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚Jasyptä¹Ÿå¯ä»¥ä¸Acegi Securityæ•´åˆä¹Ÿå³Spring Securityã€‚Jasyptäº¦æ‹¥æœ‰åŠ å¯†åº”ç”¨é…ç½®çš„é›†æˆåŠŸèƒ½ï¼Œè€Œä¸”æä¾›ä¸€ä¸ªå¼€æ”¾çš„APIä»è€Œä»»ä½•ä¸€ä¸ªJava Cryptography Extensionéƒ½å¯ä»¥ä½¿ç”¨Jasyptã€‚</p>
<p>Jasyptè¿˜ç¬¦åˆRSAæ ‡å‡†çš„åŸºäºå¯†ç çš„åŠ å¯†ï¼Œå¹¶æä¾›äº†æ— é…ç½®åŠ å¯†å·¥å…·ä»¥åŠæ–°çš„ã€é«˜å¯é…ç½®æ ‡å‡†çš„åŠ å¯†å·¥å…·ã€‚</p>
<p> <strong>æ•´åˆSpringBoot</strong></p>
<ul>
<li>å¼•å…¥ä¾èµ–</li>
</ul>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;
    &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;2.0.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>ç¼–å†™é…ç½®</li>
</ul>
<pre><code class="yml">jasypt:
  encryptor:
    algorithm: PBEWithMD5AndDES
    password: cf150b74e4824146ad76e9ebe757ba76 #ä½¿ç”¨åŠ å¯†ç§˜é’¥
</code></pre>
<ul>
<li><p>é€šè¿‡ç¨‹åºä¼ é€’å¯†é’¥</p>
<pre><code class="css">-Djasypt.encryptor.password=cf150b74e4824146ad76e9ebe757ba76
</code></pre>
</li>
<li><p>åŠ å¯†ã€è§£å¯†</p>
</li>
</ul>
<pre><code class="java">@Autowired
StringEncryptor encryptor;

@Test
public void testSecret() &#123;
  //åŠ å¯†
  String url = encryptor.encrypt(&quot;localhost&quot;);
  System.out.println(url);
  //è§£å¯†
  String decrypt = encryptor.decrypt(&quot;nRmCj//nOuErKepiS6dyBO/9Ff7LGCXZ&quot;);
  System.out.println(decrypt);
&#125;
</code></pre>
<ul>
<li>ä½¿ç”¨</li>
</ul>
<pre><code class="yml">mysql:
  host: ENC(pNVN9SKixSnfJ8yZjjIESZuP8HTwG0Hm)

spring:
  thymeleaf:
    suffix: .html
    prefix: classpath:/templates/
    cache: false
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://$&#123;mysql.host&#125;:3306/emp?characterEncoding=UTF-8
    username: ENC(M9LpI0WkgVh0rpx+BkOGew==)
    password: ENC(M9LpI0WkgVh0rpx+BkOGew==)
</code></pre>
<hr>

    </div>
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.css">
    <div id="comment">
        <div id="gitalk-container"></div>
    </div>
    
    
</div>
                         
<footer id="footer">
    <div class="footer-wrap">
        <div>
            Â© 20xx - 2022 Yangçš„ä¸ªäººåšå®¢
            <span class="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            @CarSon Yang
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/argvchs/hexo-theme-particlex">ParticleX Theme</a></div>
        
    </div>
</footer>
                    </div>
                </div>
            </transition>
            <div id="img_show">
                <img id="img_content" alt="img_show">
            </div>
        </div>
        <script src="https://cdn.staticfile.org/highlight.js/11.5.1/highlight.min.js"></script>
        <script src="/js/particlex.js"></script>
        <script src="/js/showimg.js"></script>
        <canvas
            id="fireworks"
            style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:2147483647"
        ></canvas>
        <script src="/js/fireworks.js"></script>
        <canvas
            id="background" 
            style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"
        ></canvas>
        <script src="/js/background.js"></script>
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script> -->
        <!-- <div id="L2dCanvas"></div>
        <script src="/js/live2d.min.js"></script>
        <script src="/css/live2d.css"></script>
        <script>
            var v = new Viewer({
                width: 240,
                height: 420,
                left: "0",
                bottom: "0",
                basePath: "/model",
                // role: "dafeng_2",
                // role: "zhala_2",
                mobile: true,
            });
        </script> -->
        
<script src="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.js"></script>
<script>
    var clientID = "3b8a78a17a8de3d483eb", clientSecret = "ca2df322376933273e049a9f3e0c1d27d0e54b53";
    
    const gitalk = new Gitalk({
        clientID: clientID,
        clientSecret: clientSecret,
        repo: "blogComment",
        owner: "Honkey-y",
        admin: ["Honkey-y"],
        language: "zh-CN",
        id: location.pathname,
        distractionFreeMode: false,
        
        proxy: "https://yangkblog.herokuapp.com/https://github.com/login/oauth/access_token"
        
    })
    gitalk.render("gitalk-container")
</script>


    </body>

    <style>.md-toc{z-index:999;display: block; position: fixed; left: 80px; top: 50px;}</style>
</html>